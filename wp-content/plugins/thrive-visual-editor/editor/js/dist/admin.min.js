/*! Thrive Architect - 2020-11-17
* http://www.thrivethemes.com/
* Copyright (c) 2020 Thrive Themes */

!function(a){function t(){YoastSEO.app.registerPlugin("tcbYoastPlugin",{status:"loading"}),this.tcb_content="",this.fetchData()}t.prototype.fetchData=function(){var o=this;return a.ajax({url:ajaxurl,type:"post",dataType:"json",data:{post_id:TCB_Post_Edit_Data.post_id,action:"get_tcb_content"}}).done(function(t){o.tcb_content=t.content,YoastSEO.app.pluginReady("tcbYoastPlugin"),YoastSEO.app.registerModification("content",a.proxy(o.getTCBContent,o),"tcbYoastPlugin",5)})},t.prototype.getTCBContent=function(t){return this.tcb_content?this.tcb_content:t},a(window).on("YoastSEO:ready",function(){new t}),a(function(){var n=a(document);n.on("click.tcb","#tcb2-migrate-post",function(){var o=this;a("#tcb-admin-page-loader").show(),a.ajax({type:"post",url:ajaxurl,dataType:"json",data:{_nonce:TCB_Post_Edit_Data.admin_nonce,post_id:TCB_Post_Edit_Data.post_id,action:"tcb_admin_ajax_controller",route:"migrate_post_content"}}).done(function(t){location.href=o.getAttribute("data-edit")}).error(function(t){alert("ERROR: "+t.responseText)})}).on("click","#tcb2-show-wp-editor",function(){var t=n.find(".tcb-enable-editor"),o=t.closest(".postbox");o.next(".tcb-flags").find("input").prop("disabled",!1),o.before(t),o.remove(),a("body").removeClass("tcb-hide-wp-editor")}).on("click",".tcb-enable-editor",function(){a("body").addClass("tcb-hide-wp-editor"),a.ajax({type:"post",url:ajaxurl,dataType:"json",data:{_nonce:TCB_Post_Edit_Data.admin_nonce,post_id:this.getAttribute("data-id"),action:"tcb_admin_ajax_controller",route:"enable_tcb"}}).done(function(t){a(window).off("beforeunload.edit-post"),a("input#save-post").click().prop("disabled",!0)})})})}(jQuery);