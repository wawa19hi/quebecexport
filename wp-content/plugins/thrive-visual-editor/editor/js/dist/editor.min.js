/*! Thrive Architect - 2020-11-17
* http://www.thrivethemes.com/
* Copyright (c) 2020 Thrive Themes */

"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(r,!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(l){var h,u,i,v,f,a={".js":[],".json":[],".css":[],".html":[]},c="function"==typeof require?require:null;return v=function(e){var t=new Error("Could not find module '"+e+"'");return t.code="MODULE_NOT_FOUND",t},f=function(e,t,r){var n,i;if("function"==typeof e[t+r])return t+r;for(n=0;i=a[r][n];++n)if("function"==typeof e[t+i])return t+i;return null},h=function(e,t,r,n,i,a){var o,s,l,c,d,_;for("."!==(o=(r=r.split("/")).pop())&&".."!==o||(r.push(o),o="");null!=(s=r.shift());)if(s&&"."!==s&&(".."===s?(e=t.pop(),a=a.slice(0,a.lastIndexOf("/"))):(t.push(e),e=e[s],a+="/"+s),!e))throw v(n);if(o&&"function"!=typeof e[o]&&((_=(_=(_=(_=f(e,o,".js"))||f(e,o,".json"))||f(e,o,".css"))||f(e,o,".html"))?o=_:2!==i&&"object"===_typeof(e[o])&&(t.push(e),e=e[o],a+="/"+o,o="")),!o)return 1!==i&&e[":mainpath:"]?h(e,t,e[":mainpath:"],n,1,a):h(e,t,"index",n,2,a);if(!(d=e[o]))throw v(n);return d.hasOwnProperty("module")?d.module.exports:(l={},d.module=c={exports:l,id:a+"/"+o},d.call(l,l,c,u(e,t,a)),c.exports)},i=function(e,t,r,n){var i,a=r,o=r.charAt(0),s=0;if("/"===o){if(a=a.slice(1),!(e=l["/"])){if(c)return c(r);throw v(r)}n="/",t=[]}else if("."!==o){if(i=a.split("/",1)[0],!(e=l[i])){if(c)return c(r);throw v(r)}n=i,t=[],(a=a.slice(i.length+1))||(s=(a=e[":mainpath:"])?1:(a="index",2))}return h(e,t,a,r,s,n)},(u=function(t,r,n){return function(e){return i(t,[].concat(r),e,n)}})(l,[],"")}({workspace:{editor:{js:{common:{"jquery-plugins.js":function(e,t,r){t.exports={tcbShow:function(e){var t=0<arguments.length&&void 0!==e?e:"block";return this.each(function(){this.style.display=t})},tcbHide:function(){return this.each(function(){this.style.display="none"})},tcbRemoveClass:function(e){return e=e.split(" "),this.each(function(){this.classList.remove.apply(this.classList,e)})},tcbAddClass:function(e){return e=e.split(" "),this.each(function(){this.classList.add.apply(this.classList,e)})},tcbHasClass:function(e,t){var r=this,n=1<arguments.length&&void 0!==t&&t;return!!this.length&&(e=e.split(" "),n?e.some(function(e){return r[0].classList.contains(e)}):e.every(function(e){return r[0].classList.contains(e)}))},tcbToggleClass:function(t,e){var r=!1;return void 0!==e&&(r=e?"add":"remove"),this.each(function(){if(r)this.classList[r](t);else{var e=this.classList.contains(t)?"remove":"add";this.classList[e](t)}})}}}},editor:{src:{"compat.js":function(e,t,r){var s,i;s=jQuery,i={dom_ready:function(){this.texts(),this.rows(),this.imageResize(),this.removePlaceholders(),this.removeIframeCustomStyles(),this.mediaDownloadCompatibility(),this.dataSelectors(),this.pluginConflicts(),this.removeDeprecated(),TVE.preventBrowserAutofill(TVE.Editor_Page.editor.find(".thrv-login-element,.thrv_lead_generation"))},onStylesheetLoaded:function(){if(TVE.CONST.landing_page){var n=TVE.CONST.default_styles.link.lp_selector.split(", ").map(function(e){return"".concat(e,"__extra__")}).join(", ");Array.from(TVE.CSS_Rule_Cache.getRulesForSelector("#tcb_landing_page a")).forEach(function(e){var t=e.parentRule;if(t&&t.type===CSSRule.MEDIA_RULE){var r=null;e.selectorText.includes(".tve-state-hover")||e.selectorText.includes("tve_state_hover")?r=".tve-state-hover":e.selectorText.includes(":hover")?r=":hover":e.selectorText.match(/tcb-button-link\)$/g)&&(r=""),null!==r?TVE.CSS_Rule_Cache.copyCssRule(e,n.replace(/__extra__/g,r),!0):t.deleteRule(t.rule_index_by_selector(e.selectorText))}}),Array.from(TVE.CSS_Rule_Cache.getRulesForSelector("#tcb_landing_page .tcb-plain-text")).forEach(function(e){var t=e.parentRule;t&&t.type===CSSRule.MEDIA_RULE&&TVE.CSS_Rule_Cache.copyCssRule(e,TVE.CONST.default_styles.plaintext.lp_selector,!0)}),Array.from(TVE.CSS_Rule_Cache.getRulesForSelector("#tcb_landing_page p, #tcb_landing_page li")).forEach(function(e){var t=e.parentRule;t&&t.type===CSSRule.MEDIA_RULE&&(TVE.CSS_Rule_Cache.copyCssRule(e,TVE.CONST.default_styles.p.lp_selector,!1),TVE.CSS_Rule_Cache.copyCssRule(e,TVE.CONST.default_styles.li.lp_selector,!0))}),Array.from(TVE.CSS_Rule_Cache.getRulesForSelector("#tcb_landing_page ul, #tcb_landing_page ol")).forEach(function(e){var t=e.parentRule;t&&t.type===CSSRule.MEDIA_RULE&&TVE.CSS_Rule_Cache.copyCssRule(e,TVE.CONST.default_styles.ul.lp_selector,!0)}),Array.from(TVE.CSS_Rule_Cache.getRulesForSelector("#tcb_landing_page li")).forEach(function(e){var t=e.parentRule;!t||t.type!==CSSRule.MEDIA_RULE||e.selectorText.includes("strong")||e.selectorText.includes(TVE.CONST.default_styles.li.lp_selector)||TVE.CSS_Rule_Cache.copyCssRule(e,TVE.CONST.default_styles.li.lp_selector,!0)}),i.fixOldButtonsSelectors(),i.fixTcbAppliedColorVariable(TVE.stylesheet)}},onGlobalSheetLoaded:function(){TVE.CONST.landing_page&&i.fixTcbAppliedColorVariable(TVE.globalsheet)},fixTcbAppliedColorVariable:function(e){for(var t=e.cssRules.length,r=0;r<t;r++)if(e.cssRules[r].type===CSSRule.MEDIA_RULE)for(var n,i=e.cssRules[r],a=0;n=i.cssRules[a++];)if(n.cssText.includes(" color: var(")&&!n.cssText.includes(" --tcb-applied-color:var$(")){var o=n.style.getPropertyValue("color");n.style.setProperty("--tcb-applied-color",o.replace("var","var$"))}},fixOldButtonsSelectors:function(){Array.from(TVE.CSS_Rule_Cache.getRulesForSelector(new RegExp(/\[data-css="tve-u-[0-9a-zA-Z]*"](:hover)?[a-z]? \.tcb-button-link,[ :a-z\(\)\#]*[data-css="tve-u-[0-9a-zA-Z]*"\](:hover)? button/,"g"))).forEach(function(e){var t=e.parentRule;if(t&&t.type===CSSRule.MEDIA_RULE){var r=e.selectorText.split(","),n=r[0].trim(),i=r[1].trim(),a="";TVE.inner_$(n.replace(":hover","")).length?a=n:TVE.inner_$(i.replace(":hover","")).length&&(a=i),a.length&&TVE.CSS_Rule_Cache.copyCssRule(e,a,!0)}})},mediaDownloadCompatibility:function(e){(e=e||s("#tve_editor")).find("audio.tcb-audio, video.tcb-responsive-video").each(function(e,t){t.getAttribute("controlslist")||s(t).closest(".thrv_audio,.thrv_responsive_video").attr("data-no-download","0")})},texts:function(e){(e=e||s("#tve_editor")).find(".thrv_text_element").not("div").removeClass("thrv_text_element"),e.find(".thrv-styled_list .thrv-inline-text").removeClass("thrv-inline-text").addClass("thrv-advanced-inline-text");var t=TVE.ELEM.text,r=TVE.ELEM.headings,n=[TVE.TEXT_INLINE,".thrv_custom_html_shortcode *",".tve_wp_shortcode *",".thrive-shortcode-html *",".tve_scT > ul",".widget-title",".wp-caption-text",".".concat(TVE.PostList.constants.TCB_SHORTCODE_CLASS),".tcb-pagination-label-content",".tcb-pagination-button","#comments *",".tve-lg-dropdown-list"];n=TVE.apply_filters("tcb.compat.not_wrappable",n);for(var i,a=e.find(t).not(n.join(", ")),o=s();a.length;){for(o=i=a.first();i.next().is(t);)o=o.add(o.next()),i=i.next();a=a.not(o),1===o.length&&o.is(r)?i.parents(TVE.TEXT_HEADINGS+","+TVE.TEXT_BLOCK).length||o.wrap('<div class="thrv_wrapper thrv_text_element"></div>'):i.closest(".thrv_text_element, .fr-element").length||o.wrapAll('<div class="thrv_wrapper thrv_text_element"></div>')}e.find(".thrv_text_element .thrv_text_element").children(0).unwrap(),(a=e.find(".thrv_tw_qs_button span span")).addClass("thrv-inline-text tve_editable"),e.find(".thrv_text_element .thrv_heading").children().unwrap(),e.find(".thrv_bullets_shortcode").addClass("thrv_text_element"),e.find(".thrv_heading").addClass("thrv_text_element")},rows:function(e){(e=e||s("#tve_editor")).find(".tcb-flex-row.thrv_wrapper").each(function(e,t){var r=s(t);r.removeClass("thrv_wrapper"),r.wrap('<div class="thrv_wrapper thrv-columns"></div>')}),e.find(".tcb-flex-col").each(function(){var e=s(this),t=e.parent();e.children(".tcb-col").length||(e.children(".col-empty").remove(),e.children().not(".ui-resizable-handle").wrapAll('<div class="tcb-col"></div>')),t.hasClass("tve-flex-end")?t.addClass("tcb-flex-end").removeClass("tve-flex-end"):t.hasClass("tve-flex-center")?t.addClass("tcb-flex-center").removeClass("tve-flex-center"):t.hasClass("tve-flex-start")&&t.removeClass("tve-flex-start")})},insert_css_rule:function(e,t,r){for(var n,i=0;n=TVE.stylesheet.cssRules[i++];)if(n.selectorText===e){t=n.style.cssText+t,TVE.stylesheet.deleteRule(i);break}TVE.stylesheet.insertRule(e+"{"+t+"}",r)},get_css_rules:function(e){for(var t,r=0;t=TVE.stylesheet.cssRules[r++];)if(t.type===CSSRule.STYLE_RULE&&t.cssText&&t.selectorText&&-1!==t.selectorText.indexOf('data-tve-custom-colour="'+e))return t.cssText;return""},conditionText:function(e){return e.conditionText?e.conditionText:e.cssText.match(/@media(.+?)\{/)?RegExp.$1.trim():""},removePlaceholders:function(e){return(e=e||TVE.Editor_Page.editor).find(".tve-cb.tcb-parent-placeholder-empty").removeClass("tcb-parent-placeholder-empty").children(".tcb-replaceable-placeholder").remove(),e},removeIframeCustomStyles:function(){function e(){TVE.main.$frame.css(t)}var t={height:"","min-height":""};TVE.inner.window.addEventListener("load",e),TVE.inner.window.addEventListener("resize",e)},imageResize:function(e){(e=e||TVE.Editor_Page.editor).find("img.tve_image").css("width",""),e.find("img").each(function(){var e=this.getAttribute("data-init-width"),t=this.getAttribute("data-init-height");t&&this.setAttribute("height",t),e&&this.setAttribute("width",e)})},dataSelectors:function(){TVE.CONST.landing_page&&TVE.Editor_Page.editor.find(".thrv_header").each(function(e,t){t.dataset.selector=".thrv_symbol_".concat(t.dataset.id)})},pluginConflicts:function(e){(e=e||TVE.Editor_Page.editor).find('ins[data-adsbygoogle-status="done"]').removeAttr("data-adsbygoogle-status").empty()},removeDeprecated:function(){TVE.Editor_Page.editor.find(".thrv-login-element").removeAttr("data-element-name").find(".tar-login-elem-link").removeClass("tcb-no-delete tcb-no-clone")}},TVE.main.on("stylesheet_loaded",i.onStylesheetLoaded),TVE.main.on("globalsheet_loaded",i.onGlobalSheetLoaded),t.exports=i},"drag.js":function(e,t,r){function o(){return TVE.apply_filters("droppable_targets",v)}function n(e){return e.is(R())}function s(e){if(!e.length)return!1;if("tve-drop-handle"===e[0].id)return!0;var t=TVE.apply_filters("allow_dragenter",e.is(o()),e,y);return t&&e.is(".tve_wp_shortcode *, .tve-prevent-content-edit *, .tve-no-dropzone *")&&(t=!1),t}function l(e){return e.is(TVE.apply_filters("dropzone_elements",".tcb-replaceable-placeholder, .tve_scTC, .tve_colm, .tve_grt, .thrv_toggle_shortcode .tve_faqC, td:not(.tcb-parent-placeholder-empty), th:not(.tcb-parent-placeholder-empty), .tve_reveal_container:not(.tcb-parent-placeholder-empty), .tcb-col, #tve_editor, .tve-cb:not(.tcb-parent-placeholder-empty), .tve_lp_content, .tve-page-section-in, .tcb-dropzone-element, .tve_editor_main_content, .tcb-featured-list"))&&e.is(":not(.tve-prevent-content-edit *)")}function T(e,t){return!!(e&&e.className&&e.className.indexOf)&&-1!==e.className.indexOf(t)}function c(){var e=TVE.Editor_Page.editor.find(".tve_editor_main_content");return e.length?e:TVE.Editor_Page.editor}function i(){delete TVE.FLAGS.disable_menu_switch,TVE.main.toggle_navigation(!1);var e=b("."+E);e.removeAttr("draggable").removeClass(E),e.find(".fr-element").attr("contenteditable",!0)}var b,h,a,d,u,v,f,p,y,g,m,E,V,x,C,S,w,R,A,k,O,L,$;b=jQuery,v=".thrv_wrapper:not(.tve_tab_content, .thrv_toggle_content, .thrv_widget_menu *,.thrv_text_element,.tve_w_menu li,.canvas-mode,.thrv-styled_list *,.thrv-numbered_list *,.tve_no_drag,.symbol-edit-mode,.symbol-edit-mode *), .tve-draggable:not(.canvas-mode,.symbol-edit-mode), .tve_lp_header, .tve_lp_content, .tve_lp_footer, .thrv_text_element:not(.tve-no-drop) .fr-view > *,.thrv_text_element:not(.tve-no-drop) > *:not(.fr-wrapper), .toggle-edit-mode .thrv_toggle_item, .canvas-mode .tve_lg_radio_wrapper, .canvas-mode .tve-lg-dropdown-option, .tve_lg_checkbox:not(.tcb-lg-consent) .tve_lg_checkbox_wrapper, .tve-captcha-container",f=".thrv_page_section, .thrv-page-section, .tve-page-section-in, .thrv-columns.tcb-elem-placeholder, .tcb-window-w, .tve_lp_content, .tve_more_tag, .tcb-pricing-table-box-container > .tcb-flex-col > .tcb-col > *, .toggle-edit-mode .thrv_toggle_item, .canvas-mode .tve_lg_radio_wrapper, .canvas-mode .tve-lg-dropdown-option, .tve_lg_checkbox:not(.tcb-lg-consent) .tve_lg_checkbox_wrapper, .tve_s_item",p=".thrv-contact-form, .thrv-button-group, .tve-form, .tcb-pagination, .thrv_lead_generation, .tve-toc-title",m=g=y=null,x=V=!(E="tve_grabbed"),C={},b(),S=TVE.main.sidebar_extra.elements,w=r("./util/selectors"),R=function(){return TVE.apply_filters("non_draggable",".tve_no_drag, .tve-prevent-content-edit *, .thrive_leads_shortcode *, .tve-toc-list .thrv-divider,.thrive_ultimatum_shortcode *, .tve_tab_content, .tve_faqB *, .tve_wp_shortcode *, .thrv_bullets_shortcode ul, .thrv_tw_qs *, .thrv_post_grid *, .thrv_custom_html_shortcode *, .thrv_widget *, .thrv_widget_menu *, .tve_w_menu, .tve_w_menu *, .thrive-shortcode-html *, .tve_audio_container, .tve_responsive_video_container, .tcb-pagination-button, .tcb-pagination-number, .tcb-pagination-load-more-button, .thrv_toggle_content ")},A=function(){return TVE.apply_filters("draggable_elements",".thrv_wrapper,.tve-draggable,.tve-cf-item,.tve-cf-submit,.tve_more_tag, .tve-drag-image, .toggle-edit-mode .thrv_toggle_item, .canvas-mode .tve_lg_radio_wrapper, .canvas-mode .tve-lg-dropdown-option, .tve_lg_checkbox:not(.tcb-lg-consent) .tve_lg_checkbox_wrapper, .tve-captcha-container")},O=k=null,L={init:function(){h=TVE.inner.$document,a=b(document.body),d=b("html"),m=this.page_scroll("tcb_lightbox"===tve_path_params.post_type?"#tve-p-scroller":"body"),h.add(TVE.$document).on("keydown",this.keydown).on("keyup",this.keyup),this.bgSectionResizeInit(),TVE.Editor_Page.editor.on("mousedown",A(),this.mousedown)},insert_from_parent:function(e){TVE.Editor_Page.enable(),TVE.Editor_Page.blur(),this.fetch(e,this.get_available_target()),a.removeClass("tve-empty-placeholder"),TVE.do_action("tcb.element.insert",e)},keydown:function(e){!V&&e.ctrlKey&&(V=!0),!x&&e.altKey&&(x=!0),TVE.do_action("tcb.editor.keydown",e)},keyup:function(e){x=V=!1},mousedown:function(e){if(TVE.state_manager.is_default()&&!TVE.Editor_Page.is_disabled()){var t=b(e.currentTarget);if(e.stopPropagation(),!n(t))if(e.ctrlKey||e.metaKey||t.is("."+E)){if((e.ctrlKey||e.metaKey)&&!t.parents("."+E).length&&!t.find("."+E).length)return function(e){e.hasClass(E)?e.removeAttr("draggable").removeClass(E):e.attr("draggable",!0).addClass(E),TVE.main.toggle_navigation(!0),TVE.main.switch_menu_to("multiple_select_elements"),TVE.FLAGS.disable_menu_switch=!0,TVE.Editor_Page.selection_manager.hide_all_icons()}(t),TVE.froala.hide_toolbars(),TVE.froala.editor&&TVE.froala.editor.events.trigger("blur"),!1}else i()}},clear_selection:function(){i()},body_class:function(){if(!TVE.apply_filters("tcb_drag_change_body_class",!0))return!1;requestAnimationFrame(function(){a.tcbAddClass("tve-dragging"),m.onDragStart()})},handle_mouseover:function(e){return!(!TVE.allow_drag()||!TVE.state_manager.is_default()&&!TVE.state_manager.is_expanded())&&(!!function(e){return!e.is(R())&&e.is(A())}(e)&&!e.is("."+E))},hide_handle:function(){TVE.ElementEditIcons.$drag_handle&&TVE.ElementEditIcons.$drag_handle.hide(),TVE.ElementIcons.$drag_handle&&TVE.ElementIcons.$drag_handle.hide()},editorActions:function(e){TVE.do_action("drag_pre_init"),C.page_init();var t=TVE.Editor_Page.editor.find(A()).not(R()).addClass("tve-draggable");if(!TVE.BROWSER.mozilla){var r=".thrv_text_element,.thrv_heading,.thrv-styled_list,.thrv-numbered_list,.thrv-plain-text";TVE.BROWSER.chrome&&(r+=",.thrv_responsive_video"),t.not(r).attr("draggable","true")}return TVE.Editor_Page.editor.find(o()).addClass("tve-droppable"),e?(O=e,TVE.Editor_Page.editor.off("dragenter.tcb dragleave.tcb dragover.tcb drop.tcb"),d.off("drop.tcb dragover.tcb"),O.off("dragenter.tcb dragleave.tcb dragover.tcb drop.tcb").add(C.$el).on("dragenter.tcb",this.dragenter).on("dragleave.tcb",this.dragleave).on("dragover.tcb",this.dragover).on("drop.tcb",this.drop)):(O&&O.off("dragenter.tcb dragleave.tcb dragover.tcb drop.tcb"),(O=TVE.Editor_Page.editor).add(C.$el).off("dragenter.tcb dragleave.tcb dragover.tcb drop.tcb").on("dragenter.tcb",this.dragenter).on("dragleave.tcb",this.dragleave).on("dragover.tcb",this.dragover).on("drop.tcb",this.drop),a.off("dragstart.tcb").on("dragstart.tcb",".tve-drag-handle,"+A(),this.dragstart).off("dragend.tcb").on("dragend.tcb",".tve-drag-handle,"+A(),this.dragend),d.off("drop.tcb").on("drop.tcb",this.drop).off("dragover.tcb").on("dragover.tcb",this.dragover_body)),TVE.do_action("tcb.editorActions.init",O),this.refresh(O)},get_available_target:function(){var e,t=b(".edit_mode");if(C.data("dir","bottom"),0===t.length){(t=TVE.Editor_Page.editor.find(".tve_editor_main_content").first()).length||(t=TVE.Editor_Page.editor),C.data("dir","mid"),(e=t.children().last()).length&&(t=e,C.data("dir","bottom")),t=TVE.apply_filters("tcb.get_dropzone_target",t);var r=TVE.inner.$window.scrollTop();t.offset().top+t.height()>TVE.inner.$window.height()+r&&b("html,body").animate({scrollTop:t.offset().top+t.height()})}return C.data("tt",t),t},dragstart:function(e){if(u=b("#tcb-drag-img")[0],TVE.apply_filters("tcb.drag.disable",function(){if(TVE.state_manager.is_hover())return!0;if("desktop"!==TVE.main.device)return!0;var e=O&&O.is(".canvas-mode");return"disabled"===TVE.Editor_Page.STATE&&!e}(),b(e.target)))return!1;if(TVE.froala.editor&&TVE.froala.editor.core.hasFocus()&&!b(e.target).is(".tve-froala.tve_grabbed"))return!1;if((y=TVE.apply_filters("tve.dragged.element",b(e.currentTarget))).hasClass("tve-drag-handle")&&(y=L.get_dragged_target(y)),n(y))return y=null,!1;(y=y.is(".tve_grabbed")?b("."+E):y).parent().is("a")&&(y=y.parent()),TVE.state(TVE.STATE_DRAG),TVE.froala.disable(y),y.addClass("tve-dragged").removeClass("active_delete active_duplicate"),L.body_class(),e.stopPropagation(),e.originalEvent.dataTransfer.setData("text/plain",""),e.originalEvent.dataTransfer.setDragImage(u,25,-25),y.is(f)&&(C.force_limit_vertical=!0),TVE.FLAGS.$dragged_element=y,TVE.FLAGS.$dragged_element_parent=y.parent(),TVE.do_action("tcb.dragstart",y);var t=y.closest(p);0!==t.length&&!y.is(p)||b(p).addClass("tve-no-drop-inside"),g=!y.is(p)&&0<t.length?t:null},main_drag_start:function(e){if(TVE.state(TVE.STATE_DRAG),b(p).addClass("tve-no-drop-inside"),L.body_class(),e.static_element){var t=e.static_element;t.length&&t.children().first().is(f)&&(C.force_limit_vertical=!0)}TVE.FLAGS.$dragged_element=e,TVE.do_action("tcb.dragstart.main",e)},dragend:function(e){if(TVE.state(TVE.STATE_DEFAULT),e||!TVE.FLAGS.$dragged_over){if(a.removeClass("tve-dragging"),b(".tve-dragged").removeClass("tve-dragged"),b(".tve-no-drop-inside").removeClass("tve-no-drop-inside"),k=g=y=null,C.reset(),m.hide(),void 0!==e&&!0===e&&(S.dragged_elem=null),TVE.FLAGS.$dragged_element&&TVE.FLAGS.$dragged_element.jquery){var t=TVE.FLAGS.$dragged_element.parent();t.hasClass("tcb-clear")&&(t=t.parent()),t.hasClass("tcb-replaceable-placeholder")&&(t.parent().removeClass("tcb-parent-placeholder-empty"),t.replaceWith(TVE.FLAGS.$dragged_element),TVE.do_action("tcb.contentbox_placeholder.render",TVE.FLAGS.$dragged_element.parent()))}TVE.FLAGS.$dragged_element_parent&&TVE.main.trigger("after-element-removed",TVE.FLAGS.$dragged_element_parent),TVE.do_action("tcb.dragend"),delete TVE.FLAGS.$dragged_element,delete TVE.FLAGS.$dragged_element_parent}},dragenter:function(e){if((y||S.dragged_elem)&&"tve-drop-handle"!==e.target.id){var t=TVE.apply_filters("tcb.dragenter.bubble","",e,y||S.dragged_elem.static_element);if("boolean"==typeof t)return t;if(C.limit_vertical=C.force_limit_vertical,C.data("append",!1),"tve-drop-handle"===e.target.id)return!(L.cancel_dragleave=!0);if(!y||e.target!==y[0]&&!b.contains(y[0],e.target)){if(k=TVE.apply_filters("tcb.dragenter",b(e.target),e),C.force_inner_drop=!(!k.length||!k.is(".thrv_toggle_content .tve-cb, .tve_tab_content .tve-cb, .tve-toc .tve-toc-content, .canvas-mode .tve-lg-dropdown-list, .tve-only-inner-drop")),e.originalEvent.dataTransfer.dropEffect="copy",delete C.FORBID_MIDDLE,function(){var e=k.is(".thrv_text_element *")&&k.closest(".thrv_text_element").parent().is(TVE.Editor_Page.editor);return y&&y.is(".thrv-page-section, .tcb-window-width")&&!e||S.dragged_elem&&["section","block"].includes(S.dragged_elem.type)&&!e}()){var r=c();(k=k.closest(r.children(v))).length?C.FORBID_MIDDLE=!0:k=r}var n;if("tve_editor"===e.target.id)e.pageY<TVE.Editor_Page.editor.offset().top+30&&(n=TVE.Editor_Page.editor.children(v)).length&&(1===n.length&&"absolute"===n.css("position")||(k=n.first()));delete C.dropzone_element;var i=k.children(o());if(l(k)&&(0===i.length||1===i.length&&"absolute"===i.css("position")))return!function(e){var t=e[0].classList,r=t.contains("tve-page-section-in")||t.contains("tve-cb")||t.contains("tve_reveal_container");return r=TVE.apply_filters("tcb.allow_drop_near",r,e)}(k)?C.position_mid(k):(C.dropzone_element=!0,k.is(f)&&(C.limit_vertical=!0)),!1;if(!C.force_inner_drop&&k.children(o()).length<2&&!k.is(".thrv_wrapper.thrv_lead_generation")&&(k=k.closest(o())),s(k))return C.last_dir=null,e.preventDefault(),k.is(f)&&(C.limit_vertical=!0),TVE.FLAGS.$dragged_over=k,C.can_position_mid=!C.FORBID_MIDDLE&&!T(k[0],"thrv_text_element")&&l(k)&&0===k.children(v).length,!1;var a=k.parents(o()).first();return a.length&&b.contains(TVE.Editor_Page.editor,a)?(e.target=a[0],(k=a).trigger(e),!1):void(k=null)}k=null}},dragover:function(e){if(e.preventDefault(),k&&(function(e){return"tve-drop-handle"!==e[0].id&&s(e)}(k)||C.dropzone_element)&&!(y&&b.contains(y[0],k[0])||g&&0===g.find(k).length))return C.position(k,e),e.originalEvent.dataTransfer.dropEffect="copy",TVE.do_action("tcb.dragover",k,C),!1},dragover_body:function(e){if(TVE.do_action("tcb.dragover_body",e),C&&C.data("tt"))return!1},dragleave:function(e){return L.cancel_dragleave?delete L.cancel_dragleave:C.last_dir=null,!1},drop:function(e){return e.preventDefault(),e.stopPropagation(),!(!S.dragged_elem&&!y||!C.data("tt")||!C.data("tt")[0])&&(!!TVE.apply_filters("allow_drop",!0,[S.dragged_elem||y,C])&&(y&&b.contains(y[0],C.data("tt")[0])?void 0:(a.removeClass("tve-dragging tve-empty-placeholder"),y&&y.removeClass("tve-dragged"),C.hide(),m.hide(),S.dragged_elem?L.fetch(S.dragged_elem,C.data("tt")):(!0!==x||TVE.main.EditMode.in_edit()||(y=y.clone()),L.insert(y,C.data("tt"))),TVE.do_action("tcb.element.dropped",{$source:S.dragged_elem?S.dragged_elem.static_element:y,$destination:C.data("tt")}),delete TVE.FLAGS.$dragged_over,y=null,L.dragend(),!1)))},bind_draggable:function(e){var t=e.add(e.find(A())).filter(A()).not(R()).addClass("tve-draggable");TVE.BROWSER.mozilla||t.not(".thrv_text_element,.thrv_heading,.thrv-styled_list,.thrv-numbered_list").attr("draggable","true"),e.add(e.find(o())).filter(o()).addClass("tve-droppable")},get_resize_class:function(){return"tcb-resized"},refresh:function(e){var t=0<arguments.length&&void 0!==e?e:TVE.Editor_Page.editor;TVE.BROWSER.mozilla||t.find("a,img").not(A()).attr("draggable","false"),t.find("a.tcb-button-link").attr("draggable","false"),$.bind(t),b("#tve-drag-clone").remove(),c().addClass("tve_empty_dropzone")},fetch:function(e,t){if(!1===this.before_fetch(e,t))return!1;t=TVE.apply_filters("tcb.change_target",t,C);var r=e.type;if(TVE.renderers[r])return L.insert(TVE.renderers[r].render_default(t),t,!1,!1,!0),!0;var n=TVE.main.static_element(r);if(n.length<=0)return!1;var i=TVE.apply_filters("tcb.drag.fetch.static_element",n.first().clone(),e);return i.find(".tve_countdown_timer_evergreen").attr("data-id","evergreen_"+Math.floor(1e4*Math.random())),L.insert(i.html(),t,!1,!1,!0),!0},before_fetch:function(e,t){var r=!0;return e.data&&e.data.usertpl?(this.load_template(e.data.key,t),r=!1):e.type&&(TVE.main.trigger("insert_element",e),e.prevent_insert&&(r=!1)),r},after_fetch:function(e,t,r){e.hasClass("thrv_content_container_shortcode")?e.parent().addClass("tve_clearfix"):e.hasClass("thrv_countdown_timer")?e.hasClass("tve_countdown_timer_evergreen")?e.tve_countdown_timer_evergreen().update():e.tve_countdown_timer().update():e.hasClass("thrv_social_default")&&TVE_Content_Builder.social.onDefaultInsert(e);var n=e.parent();n.hasClass("tcb-replaceable-placeholder")&&(n.parent().removeClass("tcb-parent-placeholder-empty"),n.replaceWith(e)),TVE.apply_filters("element_drop",e)},insert:function(e,t,r,n,i){r=void 0!==r&&r,n=void 0!==n&&n,TVE.Editor_Page.before_action(),TVE.Editor_Page.disable(),i&&!TVE.state_manager.is_default()&&TVE.state_manager.change("default",!0);var a=TVE.apply_filters("tcb.drag.element_to_insert",b(e),t,r,n,i),o=a;return o.data("focus-after-insert")&&(o=o.data("focus-after-insert")).removeData("focus-after-insert"),r?t.html(a):n?t.replaceWith(a):this.insert_near(a,t,C.data("dir")),this.bind_draggable(a),void 0!==i&&i&&L.after_fetch(o,t,C.data("dir")),L.after_drop(a,t,C.data("dir")),setTimeout(function(){TVE.Editor_Page.after_action(),L.refresh(),o.hasClass("tcb-elem-placeholder")?o.children(".tcb-inline-placeholder-action").first().trigger("click"):i&&(o.is(TVE.TEXT_ALL)?TVE.froala.force_focus(o):TVE.Editor_Page.selection_manager.select_element(o))},400),TVE.prevent_blur||(TVE.Editor_Page.enable(),TVE.Editor_Page.blur()),TVE.do_action("tcb.after-insert",a,t),a},after_drop:function(e,t,r){var n=e[0];if(T(n,"thrv_social_default"))TVE_Content_Builder.social.onDefaultDrop(e);else if(!T(n,"tcb-window-width")){if(TCB_Front.resizePageSection(),TVE.do_action("tcb_after_element_drop",e,t,r),TVE.ActiveElement&&TVE.ActiveElement.hasClass("tve-state-hover")){var i=b.Event("keyup.state_cancel",{which:27});TVE.inner.$body.trigger(i)}$.resizeColumnsAfterDrag(e)}},insert_near:function(e,t,r){var n,i=e[0]===t[0];if(t=TVE.apply_filters("tve.insert.near.target",t,r),e.parent().hasClass("tcb-clear")&&(e=e.parent()),t.parent().hasClass("tcb-clear")&&(t=t.parent()),y&&(n=e.parent()),t.is(".thrv_text_element *")){var a=t.prevAll(),o=t.nextAll(),s=t.closest(".thrv_text_element"),l=s.attr("data-css"),c=l?'data-css="'.concat(l,'"'):"",d=s.parent(),_=".thrv_text_element",h='<div class="thrv_wrapper thrv_text_element" '.concat(c,"></div>");if(t=s,d.hasClass("tcb-clear")){var u=d.attr("data-css");h='<div class="tcb-clear" data-css="'.concat(u,'">').concat(h,"</div>"),_=".tcb-clear",s=t=d}"top"===C.data("dir")&&a.length?(b(a.get().reverse()).wrapAll(h),s.before(a.closest(_))):"bottom"===C.data("dir")&&o.length&&(o.wrapAll(h),s.after(o.closest(_))),t=s}var v=e.find("a[href]").length||e.is("a")||e.parent().is("a");if("mid"!==r&&(t.parent("a[href]").length&&(t=t.parent()),t.parent().closest("a[href]").length&&v))return this.prevent_drop(t);switch(r=TVE.apply_filters("tve.drag.position.insert",r,e,t)){case"mid":if(i)return;if(t.closest("a[href]").length&&v)return this.prevent_drop(t);t.append(e);break;case"top":if(i)return;t.before(e);break;case"bottom":if(i)return;t.after(e);break;case"right":case"left":var f,p,g,m=e.parent();if(i&&1===m.children().length)return;if(T(t[0],"thrv-columns"))g=(t=t.find(".tcb-flex-row").first()).children(".tcb-flex-col")["right"===r?"last":"first"](),p="right"===r?"after":"before";else if(T(t[0].parentNode.parentNode,"tcb-flex-col"))g=t.closest(".tcb-flex-col"),p="right"===r?"after":"before";else{if(i)return;var E=t.next(".tcb-clear");t.wrap('<div class="thrv_wrapper thrv-columns tve-draggable"><div class="tcb-flex-row v-2"></div></div>'),t.wrap('<div class="tcb-flex-col"></div>').wrap('<div class="tcb-col"></div>'),p="right"===r?"append":"prepend",g=t.closest(".tcb-flex-row"),E.length&&t.after(E)}e.wrapAll('<div class="tcb-flex-col"></div>').wrapAll('<div class="tcb-col"></div>'),f=t.closest(".tcb-flex-row"),g[p](e.closest(".tcb-flex-col")),f.hasClass("tcb-resized")?(f.removeClass("tcb-resized"),f.children().head_css({"max-width":""},"_ALL")):-1!==f[0].className.search("tve-flex-wrap-[d|t|m](?!-)")&&e.parent().head_css_copy(g),f.children().removeClass("c-25 c-33 c-50 c-66 c-75"),TVE.do_action("tcb.columns_rendered_after_insert",t,e)}e.addClass("tve-dropped"),setTimeout(function(){e.removeClass("tve-dropped")},200),this.ensure_column_placeholder(n),this.row_class(e.parents(".tcb-flex-row").first()),this.bind_draggable(e)},prevent_drop:function(e){var t=e.closest("a[href]").children().first(),r=TVE.t.warning_link_inside_link.split("##split##");TVE.page_message(r[0]+'<strong>"'+TVE.get_element_name(t)+'"</strong>'+r[1],!0,1e4)},after_clone:function(e,t){this.bind_draggable(t),t.hasClass("thrv_social_default")&&TVE_Content_Builder.social.onDefaultDrop(t),this.refresh(),TVE.main.trigger("after-element-cloned",e,t)},after_remove:function(e){TVE.apply_filters("tcb.allow_remove_parent",e.is(".thrv-content-block, .thrv-styled_list, .thrv-numbered_list")&&0===e.find(w.get("mouseover")).length,e)?e.remove():(L.ensure_column_placeholder(e),0===e[0].children.length&&(e[0].innerHTML=e[0].innerHTML.trim()),TVE.main.trigger("after-element-removed",e))},ensure_column_placeholder:function(e){e&&e.length&&T(e[0],"tcb-flex-col")&&0===e.children(".tcb-col").length&&(e.children().not(".ui-resizable-handle").wrapAll('<div class="tcb-col"></div>'),this.row_class(e.parent(),!0))},remove_column:function(e){var t=e.parent(),r=e.siblings().removeClass("c-25 c-33 c-50 c-66 c-75");e.is("a.tcb-col")&&(t=e.closest(".tcb-flex-row"),e=e.closest(".tcb-flex-col")),TVE.do_action("tcb.column.before_remove",e),e.remove(),0!==r.length?(T(t[0],"tcb-resized")&&(t.removeClass("tcb-resized"),r.head_css({"max-width":""},"_ALL")),this.row_class(t)):t.parent().remove()},row_class:function(e,t){if(e&&e.jquery){t=void 0!==t&&t;var r=e.children().length;e.parent().toggleClass("tcb-row-empty",r===e.find(".tcb-flex-col > .tcb-col:empty").children().length),t||(e.removeClass(function(e,t){return t.split(" ").filter(function(e){return-1!==e.indexOf("tcb--cols--")}).join(" ")}).addClass("tcb--cols--"+r),10<r&&e.addClass("tcb--cols--high"),this.resize_images(e))}},resize_images:function(e){e.find(".tve_image_caption").each(function(){var e=parseInt(this.style.width),t=b(this),r=t.width();isNaN(e)||r<e&&(t.css("width",r+"px"),t.find(".tve_image").css("width",r+"px"))})},load_template:function(e,n){n.addClass("tcb-el-loading"),TVE.ajax("load_content_template","post",{template_key:e}).done(function(e){e=TVE.apply_filters("tcb.content_templates.data",e,n);var t=TVE.apply_filters("tcb_insert_content_template",b(e.html_code));t=TVE.Editor_Page.content_manager.process_saved_template(e.css_code,t,e.media_css,e.imports,!1,e.inline_rules),n.removeClass("tcb-el-loading");var r=L.insert(t,n,!1,!0);TVE.do_action("tcb.insert_content_template",r)}).always(function(){n.removeClass("tcb-el-loading")})},page_scroll:function(e){var i,a,t=0<arguments.length&&void 0!==e?e:"body",r=b('<div id="tve_page_scroller_top" data-dir="top" class="tve_window_drag_scroll tve_scroll_hide"></div><div id="tve_page_scroller_bottom" data-dir="bottom" class="tve_window_drag_scroll"></div>').appendTo(t),n=r.filter('[data-dir="top"]'),o=r.filter('[data-dir="bottom"]'),s=r.height(),l="body"===t?TVE.inner.$window:b(t),c=TVE.inner.$body.height();function d(e){n.toggleClass("tve_scroll_hide",e<1),o.toggleClass("tve_scroll_hide",e+TVE.inner.$window.height()>=c-79)}return r.on("dragenter",function(){i=this.dataset.dir;var e=this.getBoundingClientRect();a=e["top"===i?"bottom":"top"],this.classList.add("tve_drag_hover"),c=TVE.inner.$body.height()}).on("dragover",_.throttle(function(e){var t=Math.abs(e.clientY-a)/s,r=Math.max(5,240*Math.pow(t,4)),n=l.scrollTop()+("top"===i?-1:1)*r;l.scrollTop(n),d(n)},20)).on("dragleave",function(e){return e.currentTarget.classList.remove("tve_drag_hover")}),{onDragStart:function(){d(l.scrollTop())},hide:function(){r.removeClass("tve_drag_hover tve_scroll_hide")}}},get_selection_type:function(e){var t=!1;return!!e.length&&(e.each(function(){return!1===t?(t=b(this).data("tve-el-type"),!0):t!=b(this).data("tve-el-type")?t=!1:void 0}),t)},convert_old_columns:function(e){var t=e.children(),r="tcb-flex-row tcb--cols--"+t.length,n="thrv_wrapper tve-draggable tve-droppable edit_mode",i={tve_oth:"c-33",tve_tth:"c-66",tve_foc:"c-25",tve_tfo:"c-75",tve_twc:"c-50"};4<=t.length||2===t.filter(".tve_twc,.tve_oth").length||t.each(function(){var r=this;b.each(i,function(e,t){r.className=r.className.replace(e,t)})});var a=!1,o=!1;"0px"===e.css("margin-top")&&(a=!0),"0px"===e.css("margin-bottom")&&(o=!0),t.removeClass("tve_colm tve_df tve_ofo tve_fic tve_lst tve_foc tve_tfo tve_twc tve_oth tve_tth tve_thc").addClass("tcb-flex-col"),e.removeClass("thrv_columns tve_clearfix "+n).addClass(r).wrap('<div class="thrv-columns '+n+'"></div>'),t.each(function(){b(this).children().wrapAll('<div class="tcb-col"></div>')}),a&&(e.css("padding-top","0px"),e.parent().css("margin-top","0px")),o&&(e.css("padding-bottom","0px"),e.parent().css("margin-bottom","0px")),$.bind(e)},position_resizables:function(e,t){$.position_handles(e,t)},bind_element:function(e){this.bind_draggable(e),$.bind(e)},get_dragged_target:function(e){var t=TVE.ElementIcons.$drag_handle;return t.is(e)||(t=TVE.ElementEditIcons.$drag_handle),t.data("el")},bgSectionResizeInit:function(){}},$={position_handles:function(e,t){void 0===t&&(t=parseInt(e.children(".tcb-flex-col").first().css("paddingLeft")));var r=6<=t?(t-6)/2+"px":0;e.find("> .tcb-flex-col > .ui-resizable-handle").css("padding","0 "+r+" 0 "+r).css("marginLeft",0===r?"-3px":"").css("zIndex",100)},resizeColumnsAfterDrag:function(e){if(e&&e.hasClass("thrv-columns")){var t=e.outerWidth(),r=0,n=0;if(e.find(".tcb-flex-col:not(.column-fixed-width)").each(function(e,t){r+=TVE.inner_$(t).outerWidth()}),e.find(".column-fixed-width").each(function(e,t){n+=TVE.inner_$(t).outerWidth()}),n<t-r){var i=t-r-n,a=e.find(".tcb-flex-col:not(.column-fixed-width)").outerWidth()+i;e.find(".tcb-flex-col:not(.column-fixed-width)").head_css({"max-width":a/t*100+"%"})}}},bind:function(e){var o,n,i,s,l,t=0<arguments.length&&void 0!==e?e:TVE.Editor_Page.editor,c=b("<span>",{class:"ui-resize-left"}),d=b("<span>",{class:"ui-resize-right"}),r=t.find(".tcb-flex-col"),_={},h={},u=15,v=null;r.find(".ui-resizable-handle").remove(),r.each(function(){var e=b(this);e.data("ui-resizable")&&e.resizable("destroy")}),r.resizable({handles:"e",start:function(e,t){TVE.FLAGS.drag=!0,TVE.ElementEditIcons.toggle(!1),TVE.Editor_Page.before_action(),TVE.Editor_Page.editor.addClass("tcb-resizing"),n=t.element.parent(),o=n.width();var r=t.element.children(".ui-resizable-handle");i=n.children(".tcb-flex-col"),n.hasClass("tcb-resized")||(i.each(function(){var e=b(this),t=e.hasClass("column-fixed-width");e.head_css({"max-width":t?e.outerWidth()+"px":e.outerWidth()/o*100+"%"})}),n.addClass("tcb-resized")),n.addClass("tcb-resizing"),r.before(c),r.after(d),u=parseInt(t.element.css("padding-left")),h={left_column:t.element},n.hasClass("tcb-row-reversed-".concat(TVE.main.device))?h.right_column=t.element.prev():h.right_column=t.element.next(),_={elem:h.left_column.outerWidth()/o*100,next:h.right_column.outerWidth()/o*100},s=h.left_column.hasClass("column-fixed-width"),l=h.right_column.hasClass("column-fixed-width"),v=null},stop:function(e,t){setTimeout(function(){TVE.Editor_Page.editor.removeClass("tcb-resizing")}),v&&(h.left_column.head_css({"max-width":v.elem+(s?"px":"%")}),h.right_column.head_css({"max-width":v.next+(l?"px":"%")})),h.left_column.css("width","").css("height",""),i.css({"max-width":""}),n.removeClass("tcb-resizing"),TVE.FLAGS.drag=!1,h.left_column.find(".ui-resize-left, .ui-resize-right").remove(),L.resize_images(n),TVE.Editor_Page.after_action(),TVE.ElementEditIcons.toggle(),TVE.Editor_Page.reposition_icons(),TVE.ActiveElement&&TVE.main.update_components(),TVE.do_action("tcb.columns.resized",h)},resize:function(e,t){var r,n=s?parseInt(u+t.size.width):(100*(u+t.size.width)/o).toFixed(1),i=n-5*Math.floor(n/5),a=n-(v?v.elem:_.elem);return V&&(n=5*parseInt(n/5)),r=s&&l?(r=(_.next-100*n/o+_.elem).toFixed(1),parseInt(r*o/100)):s?(_.next-(100*(u+t.size.width)/o).toFixed(1)+_.elem).toFixed(1):l?(r=(_.next-n+_.elem).toFixed(1),parseInt(r*o/100)):(_.next-n+_.elem).toFixed(1),V&&(0==i||0<a&&3<i||a<0&&2<i)||(s?n:n*o/100)<=50||(l?r:r*o/100)<=50||(h.left_column.css({"max-width":n+(s?"px":"%")}),h.right_column.css({"max-width":r+(l?"px":"%")}),v={elem:n,next:r},c.html(parseFloat(n).toFixed(V||s?0:1)+(s?"px":"%")),d.html(parseFloat(r).toFixed(V||l?0:1)+(l?"px":"%"))),!1}}),t.find(".tcb-flex-row").each(function(){$.position_handles(b(this))})}},C.page_init=function(){this.$el||(this.$el=b('<div id="tve-drop-handle"><div class="tve-drop-arrow" style="display:none"></div></div>').appendTo("body"),this.$arrow=this.$el.children(".tve-drop-arrow"),this.$marker=b('<div class="tve-drop-marker"><div class="m--top"></div><div class="m--right"></div><div class="m--bottom"></div><div class="m--left"></div></div>').appendTo("body"))},C.show=function(){return this.$el[0].style.display="block",this.$marker[0].style.display="block",this},C.hide=function(){return this.$el[0].style.display="none",this.$marker[0].style.display="none",this},C.data=function(){return this.$el.data.apply(this.$el,arguments)},C.is=function(){return this.$el.is.apply(this.$el,arguments)},C.reset=function(){this.hide(),this.last_dir=null,this.$el.data("append",null),this.limit_vertical=null,this.force_limit_vertical=null,this.$el.data("tt",null),b(".tve-dragged-over").removeClass("tve-dragged-over")},C.position=function(e,t){var r,n,i,a,o=e.offset(),s=e.outerWidth(),l=e.outerHeight(),c=function(e,t,r,n){var i=e.left-t.left,a=e.top-t.top+h.scrollTop(),o=r/n,s=.33*r,l=a*o<i,c=a*o+i<r;return C.dropzone_element&&n/4<a&&a<3*n/4&&r/4<i&&i<3*r/4?"mid":C.limit_vertical?C.can_position_mid&&n/4<a&&a<3*n/4?"mid":a<n/2?"top":"bottom":s<=i&&i<2*s?a<n/2?"top":"bottom":l&&c?"top":l&&!c?"right":!l&&c?"left":"bottom"}({left:t.clientX,top:t.clientY,limit_vertical:e.limit_vertical},o,s,l),d=null;if(c=TVE.apply_filters("tve.drag.position.direction",c,e),this.last_dir===c)return this;if("mid"===c||this.force_inner_drop)return this.position_mid(e);if(this.data("tt",this.dropzone_element?e.closest(".thrv_wrapper"):e),d=d||C.data("tt"),"left"!==c&&"right"!==c||!d.parents(".thrv_text_element").length||(s=(d=d.parents(".thrv_text_element").first()).outerWidth(),l=d.outerHeight(),o=d.offset()),d.attr("data-label")){var _=TVE.inner_$('[data-label-for="'.concat(d.attr("data-label"),'"]'));_.length&&(l+=_.outerHeight(),s=Math.max(s,_.outerWidth()),o.top=_.offset().top)}switch(this.last_dir=c,this.highlight_target(d,s,l,o),c){case"top":r=s+2,n=9,i=o.top-1,a=o.left-1;break;case"right":r=9,n=l+2,i=o.top-1,a=o.left+s-9;break;case"bottom":r=s+2,n=9,i=o.top+l-9,a=o.left-1;break;case"left":r=9,n=l+2,i=o.top-1,a=o.left-1}this.$el.css({width:r+"px",height:n+"px",top:(i<0?0:i)+"px",left:(a<0?0:a)+"px",opacity:1,display:"block"}).data("dir",c)},C.position_mid=function(e){this.$el.data("tt",e),this.last_dir="mid";var t=e.offset();this.$el.css({width:e.outerWidth(),height:9,top:t.top+e.outerHeight()/2-4.5,left:t.left,display:"block"}).data("dir","mid"),this.highlight_target(e,null,null,t)},C.highlight_target=function(e,t,r,n){t=t||e.outerWidth(),r=r||e.outerHeight();var i=TVE.t["el_dir_"+this.last_dir]+" "+TVE.get_element_name(e.closest(w.elements));if(t<60&&"left"!==this.last_dir&&"right"!==this.last_dir?i=i.split(" ")[0]:r<92&&("left"===this.last_dir||"right"===this.last_dir)&&(i=i.split(" ")[0]),b(".tve-dragged-over").removeClass("tve-dragged-over"),this.$el[0].className="el-"+this.last_dir,this.$el[0].dataset.text=i,e[0].classList.add("tve-dragged-over"),this.$marker.css({display:"block",top:n.top+"px",left:n.left+"px"}),this.$marker.find(".m--top").css({width:t+2+"px"}),this.$marker.find(".m--right").css({height:r+2+"px",left:t+1+"px"}),this.$marker.find(".m--bottom").css({width:t+2+"px",top:r+1+"px"}),this.$marker.find(".m--left").css({height:r+2+"px"}),"mid"!==this.last_dir){var a={display:"",top:r/2,left:t/2,width:"",height:""};t<25||r<25?a.width=a.height="16px":(t<50||r<50)&&(a.width=a.height=Math.min(t,r)-12+"px"),"bottom"===this.last_dir&&(a.top=9-a.top-1),"right"===this.last_dir&&(a.left=9-a.left-1),a.top+="px",a.left+="px",this.$arrow.css(a)}else this.$arrow[0].style.display="none"},L.get_draggable_elements=A,t.exports=L},"editor-page.js":function(e,t,r){var c;c=jQuery,t.exports={selection_manager:r("./util/selection-manager"),content_manager:r("./util/content"),STATE:"enabled",editor:null,event:null,winWidth:null,htmlOffset:null,save_notification_timeout:null,onDOMReady:function(){this.winWidth=c(window).width(),this.setEditorWrapper(),this.$body=c("body"),TVE.drag.init(),TVE.apply_filters("before_editor_events"),this.bind_events(),TVE.apply_filters("main_ajax_callback"),TVE.main.editor_loaded(),TVE.apply_filters("editor_loaded_callback"),TVE.CONST.landing_page&&this.landingPageInit(),this.updateFroalaModeDisplay()},bind_events:function(){this.editor.is(":empty")&&this.$body.addClass("tve-empty-placeholder"),TVE.bind_global_events(),this.initEditorActions(),this.editor.off("click.tcbaction").on("click.tcbaction",".tcb-click",function(e){for(var t=this.getAttribute("data-fn"),r=TVE,n=t.split("."),i=window;r&&n.length;)r=(i=r)[n.shift()];if("function"==typeof r)return r.call(i,e)})},initEditorActions:function(e){void 0===e&&(e=!1),this.setEditorWrapper(),TVE.compat.dom_ready(),this.selection_manager.init(TVE.CONST.editor_selector?c(TVE.CONST.editor_selector):this.editor);var t=!1,r=!1;function n(e){var t,r=e,n=c(r),i={CSS_EXISTS:!0};return n.length||(n=c('<style type="text/css"></style>').appendTo(c("head")),-1!==r.indexOf(".")&&(r=r.substring(r.indexOf("."),r.length)),"."===r[0]?n.attr("class",r.substring(1)):n.attr("id",r.split("#").pop()),i.CSS_EXISTS=!1),(t=n[0]).styleSheet?t.styleSheet.cssText=t.styleSheet.cssText+"":t.appendChild(document.createTextNode("")),i.style=t,i}var i=n(TVE.apply_filters("css_style_selector","style.tve_custom_style")),a=n("style.tve_global_style");if(i.CSS_EXISTS||(i.style.onload=function(){TVE.CSS_Rule_Cache.init(e),t=!0}),TVE.stylesheet=i.style.sheet,a.CSS_EXISTS||(a.style.onload=function(){TVE.USE_GLOBALSHEET=!0,TVE.CSS_Rule_Cache.init(e),r=!0,TVE.USE_GLOBALSHEET=!1}),TVE.globalsheet=a.style.sheet,TVE.BROWSER.mozilla)var o=setInterval(function(){try{TVE.stylesheet.cssRules,TVE.main.trigger("tve_stylesheet_loaded"),clearInterval(o),TVE.CSS_Rule_Cache.init(e),t=!0}catch(e){}},100),s=setInterval(function(){try{TVE.globalsheet.cssRules,clearInterval(s),TVE.USE_GLOBALSHEET=!0,TVE.CSS_Rule_Cache.init(e),r=!0,TVE.USE_GLOBALSHEET=!1}catch(e){}},100);else setTimeout(function(){t||TVE.CSS_Rule_Cache.init(e),r||(TVE.USE_GLOBALSHEET=!0,TVE.CSS_Rule_Cache.init(e),TVE.USE_GLOBALSHEET=!1)},500);var l=c(".thrv_countdown_timer");l.length&&l.addClass("init_done").each(function(){c(this).hasClass("thrv-countdown_timer_evergreen")?c(this).tve_countdown_timer_evergreen().update():c(this).tve_countdown_timer().update()}),TVE.drag.editorActions(),this.enableSaveWarning(),TVE.froala.init(),this.content_manager.prepare_content_for_editor()},blur:function(e,t){TVE.froala.hide_toolbars(),e=void 0===e||e,this.selection_manager.blur(e,t)},focus_element:function(e,t,r){if(!TVE.allow_edit()||"enabled"!==this.STATE&&!this.editor.find(".canvas-mode").length)return!1;if(TVE.do_action("tcb.focus_element.before",e,t,r),TVE.do_action("tcb.focus_".concat(TVE._type(e),".before"),e,t,r),e.hasClass("edit_mode"))e.trigger("element.selected");else{(TVE.$will_focus=e).tcbRemoveClass("on_hover active_highlight"),this.selection_manager.hide_all_icons(),TVE.ActiveElement&&TVE.ActiveElement.length&&this.blur(!1,r),TVE.do_action("tcb.element.before_focus",e),TVE.state(TVE.STATE_EDIT),e.tcbAddClass("edit_mode");var n=new c.Event("element_selected");if(n.is_mouse=t&&t.originalEvent||r&&r.emulate,TVE.main.element_selected(e,n),n.isDefaultPrevented())return e[0].classList.remove("edit_mode"),!1;r&&r.emulate||setTimeout(function(){e.focus()},0),TVE.do_action("tcb.element.focus",e),delete TVE.$will_focus}},duplicate_element:function(e){TVE.do_action("tcb.element.before_duplicate",e),TVE.froala.disable(e);var t=e.parent().hasClass("tcb-clear")||e.parent("a[href]").length,r=t?e.parent().clone():e.clone(),n="".concat(TVE.Components.group.group_elements_classes,", .thrv-button");return t?e.parent().after(r):e.after(r),e.data("tve-el-type")&&r.data("tve-el-type",e.data("tve-el-type")),r.add(r.children()).removeClass("edit_mode canvas-mode active_highlight active_delete on_hover active_duplicate"),TVE.drag.after_clone(e,r),r.is(n)&&r.find("[data-css]").addBack().each(function(){TVE.inner_$(this).head_css_clone()}),TVE.Editor_Page.content_manager.cleanup_froala(r),TVE.do_action("tcb.element.duplicate",e,r),this.reposition_icons(),this},save_element:function(e){return TVE.ActiveElement=e,TVE.modal_open("save-elements",{element:TVE.ActiveElement}),!1},remove_element:function(e){var t=e.parent();if(TVE.froala.disable(e),this.blur(!0),(t.hasClass("tcb-clear")&&!e.siblings().length||e.parent("a[href]").length)&&(t=t.parent(),e=e.parent()),e.is(".thrv_tabs_shortcode > .tve_scT > ul li:not(.tve_tab_title_item)")){var r=e.index();return e.remove(),t.parent().find(".tve_scTC").eq(r).remove(),t.children().length===r&&r--,t.find("li").eq(r).click(),this}return t.is("ul,ol")&&1===t.find("li").length?t.parent().is(".thrv_bullets_shortcode")?this.remove_element(t.parent()):this.remove_element(t):t.hasClass("thrv_toggle_shortcode")&&1===t.children(".tve_faq").length?this.remove_element(t):(TVE.apply_filters("allow_remove",!0,[e])&&(e.hasClass("tcb-col")?TVE.drag.remove_column(e.parent()):(e.remove(),TVE.drag.after_remove(t)),c(".tcb-clear").each(function(e,t){0===t.children.length&&t.remove()}),this.editor.is(":empty")&&this.$body.addClass("tve-empty-placeholder"),TVE.do_action("tcb.element.remove",e,t)),this)},is_disabled:function(){return"disabled"===this.STATE},disable:function(){this.selection_manager.hide_icons(),this.STATE="disabled"},enable:function(){this.STATE="enabled",TVE.remove_body_overlay(),c(this).trigger("editor.onenable")},disable_clicks:function(e){var t=(e=void 0===e?{}:e).z_index_overlay||"100000";TVE.body_overlay({"z-index":t}),TVE.prevent_blur=!0,TVE.main.$("#tcb-editor-settings").addClass("tcb-disabled"),TVE.main.active_elem_nav_view&&TVE.main.active_elem_nav_view.disable(),TVE.ActiveElement&&(TVE.ElementEditIcons.hide_icons(),TVE.ElementIcons.hide_icons(),TVE.froala.hide_toolbars()),TVE.do_action("tcb.editor_page.disable_clicks",e)},enable_clicks:function(e){e=void 0===e?{}:e,TVE.remove_body_overlay(),TVE.prevent_blur=!1,TVE.main.$("#tcb-editor-settings").removeClass("tcb-disabled"),TVE.main.active_elem_nav_view&&TVE.main.active_elem_nav_view.enable(),TVE.ActiveElement&&(TVE.ElementEditIcons.show_icons(TVE.ActiveElement),TVE.ActiveElement.is(TVE.TEXT_ALL)&&TVE.froala.editor.events.focus()),TVE.do_action("tcb.editor_page.enable_clicks",e)},enableSaveWarning:function(){var e=this;TVE.CONST.tve_display_save_notification=parseInt(TVE.CONST.tve_display_save_notification),!TVE.CONST.tve_display_save_notification||this.save_notification_timeout||TVE.CONST.debug_mode||(this.save_notification_timeout=setInterval(function(){TVE.page_message('<strong>Reminder</strong><p>You have not saved your work for 10 minutes.</p><p>We recommend you perform a save to make sure you don\'t lose any work !</p><a id="tve-stop-saving-warning" class="button-link blue" href="javascript:void(0)">Stop reminding me for this work only !</a>',-1,6e3),TVE.$("#tve-stop-saving-warning").click(function(){TVE.$notification.fadeOut(200),e.disableSaveWarning(),TVE.CONST.tve_display_save_notification=0}),TVE.$notification.find(".tve-ic-close").click(function(){c(this).parent().fadeOut(200)})},6e5))},disableSaveWarning:function(){TVE.CONST.tve_display_save_notification=parseInt(TVE.CONST.tve_display_save_notification),TVE.CONST.tve_display_save_notification&&(clearInterval(this.save_notification_timeout),this.save_notification_timeout=null)},processPreSave:function(e,t){var n=0<arguments.length&&void 0!==e?e:TVE.Editor_Page.editor,i=1<arguments.length&&void 0!==t?t:{forms_filter:"*"};return new Promise(function(e,t){var r={_sendAjax:!1,post_id:i.post_id||TVE.CONST.post_id,ignore_post_parent:i.ignore_post_parent||0};if(!(r=TVE.apply_filters("tcb.content_pre_save.request",r,n,i))._sendAjax)return e(!0);TVE.ajax("content_pre_save","post",r).done(function(e){TVE.do_action("tcb.content_pre_save.response",e,n,i,r)}).always(function(){return e(!0)})})},save:function(i,a,o,e){var t=this,s=3<arguments.length&&void 0!==e&&e,l=jQuery.Deferred(),r=TVE.apply_filters("tcb.general_pre_save_options",{forms_filter:function(e,t){return!t.closest(".thrive-shortcode-html,.theme-section[data-id]")}});return this.processPreSave(TVE.Editor_Page.editor,r).then(function(){(function(){var e={preventSave:!1};if(TVE.main.trigger("tve.tve_save_post",e),e.preventSave)e.return.always(function(){return l.resolve()});else{var t=this.content_manager.prepare_save_data(i,o),r=arguments,n="save_post";TVE.CONST.save_post_action&&(n="save_post_external",t.external_action=TVE.CONST.save_post_action),TVE.ajax(n,"post",t).done(function(e){return"0"===String(e)?(TVE.login_callback||(TVE.login_callback=TVE.Editor_Page.save.apply(TVE.Editor_Page,r)),void TVE.relogin()):e.success?(i&&(e.revisions&&TVE.RevisionManager.reset_revisions(e.revisions),s||TVE.page_message(TVE.t.AllChangesSaved)),TVE.main.trigger("tve.save_post.success",e),"function"==typeof a&&a(e),void l.resolve(e)):TVE.page_message(e.message,!0,5e3)}).always(function(e,t){TVE.main.overlay("close")}),this.disableSaveWarning(),this.enableSaveWarning(),TVE.UndoManager&&TVE.UndoManager.clear()}}).call(t)}),l},editor_content:function(){return c("<div></div>").html(this.editor.html()).find(".tve-dragged-over,.edit_mode, .active_duplicate, .on_hover").removeClass("tve-dragged-over edit_mode active_duplicate on_hover ").end().find(".tve_placeholder, .tve-ui-helper, .rangySelectionBoundary").remove().end().html()},before_action:function(){return window.content_before_action=this.editor_content(),window.content_editor_class=this.editor.attr("class"),this},after_action:function(){var e=window.content_before_action,t=window.content_editor_class,r=this.editor_content();function n(e){this.editor.html(e),this.editor.attr("class",t),TVE.drag.refresh(),TCB_Front.refreshBackgroundYoutube(),TVE.do_action("tcb.editor.undo")}return TVE.UndoManager.add({undo:c.proxy(n,this,e),redo:c.proxy(n,this,r)}),this},get_custom_css:function(e){var t=c("style#tve_head_custom_css");return 0===t.length?void 0!==e&&e?"/** Insert your custom CSS rules here. **/":"":t.text()},add_custom_css:function(e){var t=c("style#tve_head_custom_css");0===t.length&&(t=c('<style type="text/css" class="tve_user_custom_style" id="tve_head_custom_css"></style>').appendTo(c("head"))),t.text(e)},reposition_icons:function(e){this.is_disabled()||(void 0===e&&(e=TVE.ActiveElement),e&&1===e.length&&TVE.ElementEditIcons.reposition_icons(e),e&&1<e.length&&TVE.ElementEditIcons.reposition_icons(TVE.getSelectedElement()))},landingPageInit:function(){TVE.main.on("element_selected",function(){TVE.ActiveElement.is("body.tve_lp")&&function(e){var t={},r=e[0].style;if(e.attr("style")){var n=" !important";r.backgroundColor&&(t["background-color"]=r.backgroundColor+n),r.backgroundImage&&(t["background-image"]=r.backgroundImage+n),r.backgroundSize&&(t["background-size"]=r.backgroundSize+n),r.backgroundAttachment&&(t["background-attachment"]=r.backgroundAttachment+n),e.removeAttr("style"),TVE.SKIP_CSS_STATE=!0,e.head_css(t),TVE.SKIP_CSS_STATE=!1}}(TVE.ActiveElement)}),TVE.add_filter("tcb_save_post_data_before",function(e){var t,r=TVE.CONST.tve_globals;return(t=TVE.inner.$body.attr("data-css"))&&(r.body_css=t,delete r.lp_bg,delete r.lp_bgi,delete r.lp_bgp,delete r.lp_bga),e})},manual_refresh_components:function(e,t){void 0===e&&(e=TVE.ActiveElement),TVE.state_manager.is_default()&&(TVE.FLAGS.hover_element=!0,e.addClass("tve-state-hover"),TVE.main.update_components(t),TVE.FLAGS.hover_element=!1,e.removeClass("tve-state-hover")),TVE.main.update_components(t)},is_page_full_width:function(){return TVE.apply_filters("is_section_full_width",TVE.CONST.landing_page&&"none"===TVE.Editor_Page.editor.css("max-width"))},updateFroalaModeDisplay:function(){_.isEmpty(TVE.CONST.froalaMode)||Object.keys(TVE.CONST.froalaMode).forEach(function(e,t){var r=JSON.parse(TVE.CONST.froalaMode[e]);TVE.Editor_Page.$body.toggleClass(e,r),TVE.main.$el.toggleClass(e,r)})},setEditorWrapper:function(){this.editor=TVE.apply_filters("editor_wrapper",c('#tve_editor.tar-main-content[data-post-id="'.concat(TVE.CONST.post.ID,'"]'))),this.editor.length||(this.editor=c("#tve_editor"))}}},"editor.js":function(e,t,r){var n;window.parent&&window.parent.TVE.CONST.debug_mode&&jQuery.noConflict(),n=jQuery,window.parent&&(window.parent.child_context=window,function e(){if(!window.parent.TVE||!window.parent.TCB_READY)return setTimeout(e,100);window.TVE=window.parent.TVE,TVE.inner={window:window,document:document,jQuery:n,$window:n(window),$document:n(document)},n.extend(TVE,r("./util/general")),TVE.froala=r("./util/froala"),TVE.inner_$=n,TVE.compat=r("./compat"),TVE.drag=r("./drag"),TVE.Editor_Page=r("./editor-page"),TVE.landing_fonts=r("./util/landing-fonts"),TVE.CSS=r("./util/element-css"),TVE.plugins={table:r("./util/table/editor")},n.extend(!0,TVE.CONST,tve_path_params),r("./util/jquery-plugins"),TVE.inner.$window.trigger("editor-included"),n(function(){TVE.inner.$body=n("body"),TVE.Editor_Page.onDOMReady(),TVE.inner.$window.trigger("tcb-ready"),TVE.main.trigger("tcb-ready"),TVE.BROWSER.mozilla?TVE.main.on("tve_stylesheet_loaded",function(){TVE.do_action("tcb-ready")}):TVE.do_action("tcb-ready")})}(),TVE.setDefaultAjaxParams(n));window.custom_font_classes="",window.extra_font_classes="",jQuery.each(tve_path_params.custom_fonts,function(){custom_font_classes+=(custom_font_classes?" ":"")+this.font_class}),window.TVE&&TVE.CONST&&TVE.CONST.tve_globals.extra_fonts&&jQuery.each(TVE.CONST.tve_globals.extra_fonts,function(){extra_font_classes+=(extra_font_classes?" ":"")+this.font_class}),jQuery.fn.extend({tveElementDrag:function(t){t=t||{};var r=this;function n(e){c[e].call(r,l)}this.data("tve_draggable.options",t);var i,a,o={x:0,y:0},s={x:0,y:0},l={x:0,y:0},c=jQuery.extend({start:function(e){},move:function(e){},stop:function(e){}},t),d=function(e){e.buttons&&(o.x=e.screenX-i,o.y=e.screenY-a,l.x=o.x-s.x,l.y=o.y-s.y,_.debounce(n("move"),5),t.afterMoveCallback&&"function"==typeof t.afterMoveCallback&&t.afterMoveCallback(),s.x=o.x,s.y=o.y)},h=function(e){TVE.set_event_callback("inner","mousemove"),TVE.set_event_callback("inner","mouseup"),TVE.set_event_callback("outer","mousemove"),TVE.set_event_callback("outer","mouseup"),o.x=e.screenX-i,o.y=e.screenY-a,n("stop")};return this.on("mousedown",function(e){if(0===e.button)return i=e.screenX,a=e.screenY,e.currentTarget,s.x=s.y=0,n("start"),TVE.set_event_callback("inner","mousemove",d),TVE.set_event_callback("inner","mouseup",h),TVE.set_event_callback("outer","mousemove",d),TVE.set_event_callback("outer","mouseup",h),!1}),this},tve_color_selector:function(e){return void 0!==e?e?this.attr("data-tve-custom-colour",e):this.removeAttr("data-tve-custom-colour"):this.attr("data-tve-custom-colour")},tve_countdown_timer:function(){function s(e,t){if(e.empty(),t<=99)e.prepend('<span class="part-1">'+t%10+"</span>"),e.prepend('<span class="part-2">'+Math.floor(t/10)+"</span>");else for(var r=0;t;)r++,e.prepend('<span class="part-'+r+'">'+t%10+"</span>"),t=Math.floor(t/10)}var l=this;return{set:function(e,t){l.attr("data-"+e,t),this.update()},get:function(e){return"_all"==e?this.get("date")+"T"+this.get("hour")+":"+this.get("min")+":00"+this.get("timezone"):l.attr("data-"+e)},update:function(){var e=new Date,t=new Date(this.get("_all"));l.find(".tve_t_text").hide().html(this.get("text")),l.find(".tve_t_part").show();var r,n=0,i=0,a=0,o=0;e<t&&(n=Math.floor((t.getTime()-e.getTime())/1e3),i=Math.floor(n/60),a=Math.floor(i/60),o=Math.floor(a/24),r=2,n%=60,i%=60,a%=24,99<o&&(r=o.toString().length)),s(l.find(".tve_t_sec .t-digits"),n),s(l.find(".tve_t_min .t-digits"),i),s(l.find(".tve_t_hour .t-digits"),a),s(l.find(".tve_t_day .t-digits"),o),e<t&&!l.data("dd")?l.find(".tve_t_day .t-digits").css("min-width",r*l.find(".tve_t_sec .t-digits > span").first().outerWidth()+"px"):l.find(".tve_t_day .t-digits").css("min-width","")},align:function(e){var t=l.children(".sc_timer_content");switch(t.css("margin-top",t.css("margin-top")),t.css("margin-bottom",t.css("margin-bottom")),e){case"left":t.removeClass("alignleft alignright aligncenter").addClass("alignleft");break;case"center":t.removeClass("alignleft alignright").addClass("tve_block_center");break;case"right":t.removeClass("alignleft alignright aligncenter").addClass("alignright");break;case"none":t.removeClass("alignleft alignright aligncenter").css("width","auto")}}}},tve_countdown_timer_evergreen:function(){function s(e,t){if(e.empty(),t<=99)e.prepend('<span class="part-1">'+t%10+"</span>"),e.prepend('<span class="part-2">'+Math.floor(t/10)+"</span>");else for(var r=0;t;)r++,e.prepend('<span class="part-'+r+'">'+t%10+"</span>"),t=Math.floor(t/10)}var l=jQuery(this),e=l.tve_countdown_timer();return e.update=function(){var e=new Date,t=new Date;t.setTime(e.getTime()+24*parseInt(this.get("day"))*3600*1e3+3600*parseInt(this.get("hour"))*1e3+60*parseInt(this.get("min"))*1e3+1e3*parseInt(this.get("sec"))),l.find(".tve_t_text").hide().html(this.get("text")),l.find(".tve_t_part").show(),l.attr("data-id","undefined"!=typeof _?_.uniqueId("evergreen_"):"evergreen_"+parseInt(1e4*Math.random()));var r,n=0,i=0,a=0,o=0;return e<t&&(n=Math.floor((t.getTime()-e.getTime())/1e3),i=Math.floor(n/60),a=Math.floor(i/60),o=Math.floor(a/24),r=2,n%=60,i%=60,a%=24,99<o&&(r=o.toString().length)),s(l.find(".tve_t_sec .t-digits"),n),s(l.find(".tve_t_min .t-digits"),i),s(l.find(".tve_t_hour .t-digits"),a),s(l.find(".tve_t_day .t-digits"),o),e<t?l.find(".tve_t_day .t-digits").css("min-width",r*l.find(".tve_t_sec .t-digits > span").first().outerWidth()+"px"):l.find(".tve_t_day .t-digits").css("min-width",""),this},e}})},util:{"content.js":function(e,t,r){var y,v=r("../../../main/libs/functions"),V=r("../../../main/libs/shortcode-manager");y=jQuery,t.exports={TCB_CLS_PAT:["thrv_","tve-","tve_","tcb_","tcb-","thrv-","img_style_","mce-","fr-","ttfm"],cleanup_froala:function(e){e.find(".tve-froala").each(function(){var e=y(this);if(!e.find(".tve-froala").length){var t=e.find(".fr-element").last();if(t.length||(t=e.next(".fr-wrapper").find(".fr-element")),t.length&&(e.html(t.html()).removeClass(function(e,t){return(t.match(/(^|\s)(fr-|tve-froal)\S+/g)||[]).join(" ")}),e.is("p")&&(t.remove(),e.siblings(".fr-wrapper:empty, p:empty").remove())),e.is("p.wp-caption-text")){var r=e.children("div");r.length||(r=e.next("div")),r.length&&(r.attr("style")&&e.attr("style",r.attr("style")),e.html(r.html()),r.remove())}}}),e.find(".fr-wrapper").each(function(){var e=y(this),t=e.children(".fr-element");y(this).replaceWith(t.length?t.html():e.html())})},get_stripped_content:function(e){return e?(e.find(".thrv_countdown_timer, .thrv-credit, .thrv-google-map-embedded-code, .thrv_disqus_comments, .tcb-post-list, .tve-toc,.thrv_widget_menu, .thrv-fill-counter, .thrv_tw_qs, .thrv_social, .thrv_post_grid, .thrv-progress-bar, .thrv-rating, .thrv_contents_table, .thrv_responsive_video, .thrive_leads_shortcode, .thrive-quiz-builder-shortcode, .thrv_responsive_video, .thrv-button, .tve_more_tag, .thrv_lead_generation").remove(),e.html()):""},get_clean_content:function(e,t){void 0===e&&(e={}),TVE.inner.window.w3tc_lazyload&&"function"==typeof TVE.inner.window.w3tc_lazyload.loadAdd&&TVE.inner.window.w3tc_lazyload.loadAll(),t=t||TVE.Editor_Page.editor;var r=y("#pre-save-filter");r.length||(r=y('<div style="display:none" id="pre-save-filter"></div>').appendTo("body")),r.empty();var n=t.children(".tve_content_save").length?t.children(".tve_content_save"):t,i=0<n.length?n.html().replace(/<script type="text\/javascript">/g,'<script type="tcb/temp">'):"";try{r.html(i)}catch(e){r.html(i.replace(/<script[^>]*>.*?<\/script>/gm,i)),console.warn("All scripts have been stripped from the html because one of them was generating an error!")}TVE.do_action("tcb.clean_content.before",r,t),e.keep_wp_shortcodes||r.find(".tve_shortcode_rendered").remove(),r.find(".tcb-remove-on-save, .ui-resizable-handle, .ui-resize-left, .ui-resize-right, .thrive-symbol-shortcode, .thrive-shortcode-html:not(.tve-custom-menu-type), grammarly-btn,.tve_custom_html_placeholder,.tve_dropzone,.rangySelectionBoundary, .tve_shortcode_overlay,.tve_shortcode_rendered script, .tcb-remove-on-save, .tve_post_grid_wrapper,.tve_widget_container,.gr-textarea-btn_status,.gr-textarea-btn, .tve-remove-auxiliary-content, .thrv_symbol.tcb-elem-placeholder, .preview-cloned-content").remove().end().find(".canvas-mode, .thrv_symbol, .edit_mode, .tve_merge_cells, .tve_merge_selected, .tve_active_hyperlink, .active_highlight, .active_delete, .active_duplicate, .tcb_bring_front").removeClass("edit_mode tve_merge_cells tve_merge_selected, tve_active_hyperlink active_highlight active_delete active_duplicate canvas-mode tve-element-overlay tcb_bring_front symbol-edit-mode").end().find(".tve_toggle_open").removeClass("tve_toggle_open").end().find(".tve_toggle_open_text").removeClass("tve_toggle_open_text").end().find(".thrv_toggle_shortcode .tve_faqC").hide().end().find(".thrv_toggle_title").removeClass("tve-state-expanded").end().find(".thrv_toggle .tve_faqC").removeAttr("style").end().find(".thrv_toggle .tcb-add-block-below").remove().end().find(".thrv_heading").removeClass("thrv_heading").addClass("thrv_text_element").end().find(".tve_oFaq").removeClass("tve_oFaq").end().find(".ui-resizable,.init_done,.ui-sortable,.ui-sortable-handle,.tve-draggable,.tve-droppable").removeClass("ui-resizable init_done ui-sortable ui-sortable-handle tve-draggable tve_grabbed tve-droppable").end().find("[contenteditable]").removeAttr("contenteditable").end().find("[draggable]").removeAttr("draggable").end().find("[data-gramm]").removeAttr("data-gramm data-gramm_id data-gramm_editor").filter(":empty").remove().end().end().find(".tve-state-hover,.tve-state-active").removeClass("tve-state-hover tve-state-active").end().find(".tve-m-expanded").removeClass("tve-m-expanded").end().find(".on_hover").removeClass("on_hover").end().find(".tve-triggered-icon").removeClass("tve-triggered-icon").end().find(".thrv_widget_menu").removeClass("tve-custom-menu-switch-icon-tablet tve-custom-menu-switch-icon-mobile").end().find(".expand-children").removeClass("expand-children").end().find('[data-css=""]').removeAttr("data-css").end().find(".tcb-mp").css("z-index","").removeClass("tcb-mp").end().find("[srcset]").removeAttr("srcset").removeAttr("sizes").end().find("p").each(function(){void 0!==this.className&&0===this.className.toString().length&&this.removeAttribute("class")}),this.cleanup_froala(r),r.find(".tve_more_tag").replaceWith('\x3c!--tvemorestart--\x3e<p class="tve_more_tag" id="more-'+TVE.CONST.post.ID+'"><span class="tve_no_edit">More...</span></p>\x3c!--tvemoreend--\x3e'),r.find("iframe.tcb-yt-bg").each(function(){y(this).replaceWith(y('<div id="'+this.id+'" class="tcb-yt-bg" data-url="'+this.getAttribute("data-url")+'" data-yt-id="'+this.getAttribute("data-yt-id")+'"></div>'))}),r.find(".thrv_responsive_video[data-type=vooplayer]").each(function(e,t){y(t).find("#theImg,link,.spinner").remove()}),this.cleanupExtensionsJunk(r),r.find(".tcb-replaceable-placeholder").each(function(){var e=y(this);e.parent().hasClass("tcb-parent-placeholder-empty")||e.remove()}),r.find("video > source").each(function(e,t){t.getAttribute("type")&&-1!==t.getAttribute("type").indexOf("quicktime")&&t.removeAttribute("type")}),r.find(".thrive-shortcode-config").each(function(e,t){if(!t.parentElement.classList.contains("thrv_thrive_optin")){var r=t.innerHTML.match(new RegExp("__CONFIG_(.*?)__"));if(r&&1<r.length)try{V(TVE.inner_$(t),r[1]).remove("tve_shortcode_rendered")}catch(e){}}}),r.find('ins[data-adsbygoogle-status="done"]').each(function(e,t){t.removeAttribute("data-adsbygoogle-status"),t.innerHTML=""}),(r=TVE.apply_filters("tcb_filter_html_before_save",r,t,e)).find("a[data-tcb-href]").each(function(){this.setAttribute("href",this.getAttribute("data-tcb-href"))}),this.stripped_content=this.get_stripped_content(r.clone());var a=r.html().replace(/<script type="tcb\/temp">/g,'<script type="text/javascript">').replace(/\u200B/g,"");return r.empty(),a},get_stylesheet_rules:function(){var i,e=TVE.stylesheet.cssRules?TVE.stylesheet.cssRules:TVE.stylesheet.rules,t="",a=[],r="",n=[],o=/ (p|h1|h2|h3)$/,s=TVE.apply_filters("tcb.css.save.blacklist",[]);function l(e,t){t=t||"";var r="";if(-1!==a.indexOf(t+e.selectorText))return"";if((i=v.getRealSelector(e)).includes(".tve-state-hover"))return"";var n=function(e,t){if(TVE.apply_filters("tcb.css.save.whitelist_rule",!1,e,t))return!0;for(var r,n=0;r=s[n++];)if(-1!==e.indexOf(r))return!1;return-1===e.indexOf("data-css")&&-1===e.indexOf("data-tve-custom-colour")||!(!e.match(o)||-1===t.indexOf("margin"))&&jQuery(e.replace(o,"")).length}(i,e.cssText)||jQuery(i).length;if(TVE.apply_filters("tcb.css.should_save_rule",n,e)){if(!jQuery.trim(e.cssText.replace(e.selectorText,"").replace(/\{(\s*)\}/g,"")))return"";r+=e.cssText,a.push(t+e.selectorText)}return r}for(var c=(e=TVE.apply_filters("tcb_css_rules_before",e)).length-1;0<=c;c--){var d=e[c];if(d.type!==CSSRule.IMPORT_RULE)if(d.type!==CSSRule.MEDIA_RULE)t=l(d)+t;else{r="";for(var _,h=0;_=d.cssRules[h++];)r+=l(_,d.media.item(0));r&&(t="@media "+d.media.item(0)+"{"+r+"}"+t)}else{var u=TVE.FontManager.read_font_name(d.cssText);TVE.FontManager.is_font_used(u,t)&&void 0===n[u]&&(n[u]=1,t=d.cssText+t)}}return t},get_global_rules:function(e){var t=TVE.globalsheet.cssRules?TVE.globalsheet.cssRules:TVE.globalsheet.rules,r={},n=[],i=[],a=TVE.CSS_Rule_Cache.getImports();function o(e,t){t=t||"";var r="";return v.getRealSelector(e),-1!==i.indexOf(t+e.selectorText)?"":jQuery.trim(e.cssText.replace(e.selectorText,"").replace(/\{(\s*)\}/g,""))?(r+=e.cssText,i.push(t+e.selectorText),r):""}for(var s=0;s<t.length;s++){var l=t[s];if(l.type===CSSRule.MEDIA_RULE)for(var c,d=0;c=l.cssRules[d++];){var _=o(c,l.media.item(0));if(!(0<e.length&&-1<_.indexOf("tve-state-hover"))){if(-1<_.indexOf(TVE.CONST.global_cls_prefix)){if(!_.match(e))continue;r[l.media.item(0)]||(r[l.media.item(0)]=[]),r[l.media.item(0)].push(_)}if(c.style.getPropertyValue("font-family").length){var h=c.style.getPropertyValue("font-family").replace(/['"]+/g,"").trim();if(!1===TVE.FontManager.is_web_safe_font(h))for(var u=0;u<a.length;u++)-1<a[u].indexOf(h.replace(/ /g,"+"))&&-1===n.indexOf(a[u])&&n.push(a[u])}}}}return TVE.apply_filters("tcb.get_global_rules",{css:r,fonts:n})},refresh_global_style_node:function(){var n="",e=this.get_global_rules("");y.each(e.fonts,function(e,t){n+=t}),y.each(e.css,function(e,t){n+="@media "+e+"{";for(var r=0;r<t.length;r++)n+=t[r].replace(TVE.escapedRegEx(TVE.CONST.global_css_prefix,"g"),"");n+="}"}),TVE.inner_$(".tve_global_style").html(n)},parse_element_classes:function(e){var t=new RegExp(this.TCB_CLS_PAT.join("([^ ]*)|")+"([^ ]*)|"+TVE.thrv_custom_classes.join("|"),"g");return e?y.trim(e.replace(t,"").replace("/S+/g"," ")):""},is_wp_content_tinymce_available:function(){return"undefined"!=typeof tinymce&&tinymce&&tinymce.activeEditor&&"tve_tinymce_shortcode"===tinymce.activeEditor.id&&!tinymce.activeEditor.isHidden()},get_shotcode_tinymce_content:function(){if(this.is_wp_content_tinymce_available())return tinymce.activeEditor.getContent();var e=jQuery("#tve_tinymce_shortcode").val();return wp&&wp.editor&&wp.editor.autop&&(e=wp.editor.autop(e)),e},set_shotcode_tinymce_content:function(e){this.is_wp_content_tinymce_available()?tinymce.activeEditor.setContent(e):jQuery("#tve_tinymce_shortcode").val(e)},convert_script_tags:function(e){e=e.replace("<\\/script","<\\\\/script");var t=jQuery('<div class="tve_escaped_js">'+e+"</div>");return 0===t.find("script").length&&0===t.find("noscript")||(t.find("script").each(function(){var e=jQuery(this),t="[tcb-script",r=jQuery('<code class="tve_js_placeholder"></code>');jQuery.each(this.attributes,function(){t+=" "+this.name+'="'+this.value+'"'}),t+="]"+e.text()+"[/tcb-script]",r.text(t),e.replaceWith(r)}),t.find("noscript").each(function(){var e=jQuery(this),t="[tcb-noscript",r=jQuery('<code class="tve_js_placeholder tve_noscript"></code>');jQuery.each(this.attributes,function(){t+=" "+this.name+'="'+this.value+'"'}),t+="]"+e.text()+"[/tcb-noscript]",r.html(t),e.replaceWith(r)})),t.html()},revert_script_tags:function(e){if(!jQuery.trim(e))return"";var t=jQuery('<div class="tve_escaped_js">'+e+"</div>");return t.find(".tve_custom_html_placeholder,.tve_click").remove(),t.find(".tve_shortcode_overlay").remove(),0===t.find("code.tve_js_placeholder").length||t.find("code.tve_js_placeholder").each(function(){var e,t=jQuery(this),r=new RegExp("^\\[tcb-script([^\\]]*?)\\]([\\s\\S]*?)\\[/tcb-script\\]$","g");e=t.find("script").length?t.html():t[t.hasClass("tve_noscript")?"html":"text"]().replace(r,"<script$1>$2<\/script>");var n=new RegExp("^\\[tcb-noscript([^\\]]*?)\\]([\\s\\S]*?)\\[/tcb-noscript\\]$","g");e=e.replace(n,"<noscript$1>$2</noscript>"),t.hasClass("tve_noscript")&&(e=jQuery("<textarea>").html(e).text());var i=jQuery(e);i.removeAttr("class className"),t.replaceWith(i)}),jQuery.trim(t.html())},prepare_save_data:function(e,t){var r=this.get_clean_content({},this.editor),n=this.get_stylesheet_rules(),i={tve_content:r,tve_stripped_content:this.stripped_content,post_id:TVE.CONST.post_id,update:e,inline_rules:n,tve_custom_css:TVE.Editor_Page.get_custom_css(),tve_landing_page:TVE.CONST.landing_page?TVE.CONST.landing_page:"",custom_font_classes:[],tve_globals:{},tve_post_constants:TVE.CONST.tve_post_constants,tve_global_scripts:TVE.CONST.tve_global_scripts?TVE.CONST.tve_global_scripts:{},has_icons:0,page_events:TVE.CONST.page_events};i=TVE.apply_filters("tcb_save_post_data_before",i),TVE.CONST.custom_post_data&&y.each(TVE.CONST.custom_post_data,function(e,t){i[e]=t}),TVE.CONST.tve_globals=TVE.CONST.tve_globals||{},TVE.CONST.tve_globals.js_sdk=this.getUsedSDKs(),TVE.CONST.social_fb_app_id&&(i.social_fb_app_id=TVE.CONST.social_fb_app_id),y.each(TVE.CONST.tve_globals,function(e,t){e&&(i.tve_globals[e]=t)}),custom_font_classes&&y.each(custom_font_classes.split(" "),function(e,t){(TVE.Editor_Page.editor.find("."+t).length||TVE.landing_fonts&&TVE.landing_fonts.fontUsed(t))&&i.custom_font_classes.push(t)}),i.tve_globals.extra_fonts&&y.each(i.tve_globals.extra_fonts,function(e,t){TVE.Editor_Page.editor.find("."+t.font_class).length||TVE.landing_fonts&&TVE.landing_fonts.fontUsed(t.font_class)?t.ignore=0:t.ignore=1}),void 0!==t&&y.each(t,function(e,t){i[e]=t});var a=y(".tve_sc_icon:not(.tve_sc_text)"),o=y();if(i.tve_globals.used_icon_packs=[],a.length){var s=[];if(TVE.CONST.tve_globals.extra_icons)for(var l,c=0;l=TVE.CONST.tve_globals.extra_icons[c++];)if(l.icons&&l.icons.length){var d=a.filter("."+l.icons.join(",."));d.length&&i.tve_globals.used_icon_packs.push(l["font-family"]),o=o.add(d),d.each(function(){s.push(this.dataset.tveIcon)}),TVE.CONST.tve_globals.extra_icons[c-1].icons=s}i.has_icons=a.length!==o.length?1:0}return i.tve_globals.fb_comment_admins=this.getFacebookCommentsModerators(),y(".tve_post_grid_masonry,.tcb-masonry").length&&(i.tve_has_masonry=1),y(".tve_typefocus").length&&(i.tve_has_typefocus=1),(y(".tve_wistia_popover:visible").length||y(".tve_ea_thrive_wistia").length)&&(i.tve_has_wistia_popover=1),i=TVE.apply_filters("tcb_save_post_data_after",i)},getFacebookCommentsModerators:function(e){var t="",r=(0<arguments.length&&void 0!==e?e:TVE.Editor_Page.editor).find(".tve-fb-comments:visible");if(0<r.length){var n=r.attr("data-fb-moderator-ids");void 0!==n&&0<n.length&&(t=JSON.stringify(n.split(";")))}return t},getUsedSDKs:function(e){var t=0<arguments.length&&void 0!==e?e:TVE.Editor_Page.editor,r=[];return t.find(".thrv_social").each(function(){r=r.concat(y(this).tve_social().getRequiredSDKs())}),0<t.find(".tve-fb-comments").length&&(r.includes("fb")||r.push("fb")),r},process_saved_template:function(e,t,r,n,c,i){var a=5<arguments.length&&void 0!==i?i:"";if(t.find(".edit_mode").removeClass("edit_mode"),t.find(".tve_sc_icon").length&&!jQuery("#thrive_icon_pack").length&&TVE.CONST.icon_pack_css&&jQuery('<link id="thrive_icon_pack" rel="stylesheet" type="text/css" href="'+TVE.CONST.icon_pack_css+'">').appendTo("head"),!jQuery.trim(e)&&!r)return t;var o,s,l=t.wrapAll("<div></div>").parent();if(e=jQuery.trim(e))for(var d=e.match(/[^{}]+(?=\})/g),_=e.match(/\[(.*?)\]([^\{]*)/g),h={},u=_?_.length:0,v=0;v<u;v++){var f=_[v].match(/\[data-tve-custom-colour=([^0-9]{1,1})(\d+)('|")\]/);if(f&&!(f.length<3)){var p=void 0!==h["code"+f[2]]?h["code"+f[2]]:(o=l.find('[data-tve-custom-colour="'+f[2]+'"]'),s=Math.floor(1e8*Math.random()+1),o.attr("data-tve-custom-colour",s),s),g=_[v].replace(f[2],p);TVE.compat.insert_css_rule(g,d[v],TVE.stylesheet.cssRules.length),h["code"+f[2]]=p}}if(n&&jQuery.each(n,function(e,t){TVE.stylesheet.insertRule(t)}),r){var m=function(e,t,r,n){if(e===TVE.main.responsive.desktop.media&&-1!==t.indexOf(":hover")){var i=t.split(",").map(function(e){var t=e.replace(/^([^:]+):hover/g,"$1.tve-state-hover");return t===e&&(t=e.replace(/(\s+)([^:]+):hover/g,"$1.tve-state-hover$2")),t===e&&(t=e.replace(/:hover/g,".tve-state-hover")),t}).join(",");r.insertRule(i+n+"}",r.cssRules.length)}},E={};jQuery.each(r,function(i,e){var a=(e=e.replace(/data-css='(.+?)'/g,'data-css="$1"')).match(/[^{}]+(?=\})/g),t=e.match(/([^\r\n{}]+)(,(?=[^}]*{)|\s*){/g);if(!a||!t||a.length!==t.length)return!0;i.includes("width")||(i=TVE.main.responsive.desktop.media);var o,s=TVE.CSS_Rule_Cache.media_rule(i);t=t.map(jQuery.trim),a=a.map(jQuery.trim);for(var l,r=function(r,n){if(!a[n])return l=r,"break";r.includes("data-css=")||(r=TVE.apply_filters("tcb.content_selector_prefix",r),s.style_by_selector(r.replace("{","").trim(),!1)||(s.insertRule(r+a[n]+"}",s.cssRules.length),m(i,r,s,a[n])));var e=r.match(/tve-u-(.[^ "]*)/g);y.each(e,function(e,t){E[o=t]=E[o]||TVE.CSS_Rule_Cache.generate_id(),r=r.replace(new RegExp("("+o+")","g"),E[o]),r=jQuery.trim(r),r=TVE.apply_filters("tcb.content_selector_prefix",r),c&&TVE.hasHeadCss(r.replace("{","").trim(),!0,i)?l=r:(s.insertRule(r+a[n]+"}",s.cssRules.length),m(i,r,s,a[n]))}),l=r},n=0;(l=t[n])&&"break"!==r(l,n);n++);}),y.each(E,function(e,t){l.find('[data-css="'+e+'"]').attr("data-css",t),a=a.replace(new RegExp("("+e+")","g"),t)}),TVE.do_action("tcb.process_template.after.ids_remap",E,l)}if(0<a.length){var T=a.split("}"),b=TVE.CSS_Rule_Cache.media_rule(TVE.main.responsive.desktop.media);y.each(T,function(e,t){if(0<t.length){var r=t.split("{"),n={selectorText:r[0].trim(),cssText:r[1].trim()};0<n.selectorText.length&&0<n.cssText.length&&b.insertStyleRule(n)}})}return l.find(".thrv_widget_menu").each(function(){var e=y(this),t=V(e.find(".thrive-shortcode-config"),"widget_menu"),r=t.get();void 0!==h&&y.each(["ul_attr","top_link_attr","link_attr","trigger_attr"],function(e,t){r[t]&&h["code"+r[t]]&&(r[t]=h["code"+r[t]])}),"undefined"!=typeof id_map&&r.head_css&&id_map[r.head_css]&&(r.head_css=id_map[r.head_css]),t.save(r)}),l.find(".thrv_widget_menu").removeClass("tve-custom-menu-switch-icon-tablet tve-custom-menu-switch-icon-mobile"),TVE.compat.texts(l),l.html()},insert_head_css:function(e,h){var u=y('<style type="text/css"></style>').text(e).appendTo("head"),v=TVE.ActiveElement?TVE.ActiveElement.closest(".thrv_symbol"):y(),f=y.Deferred();return u[0].onload=function(){for(var e=TVE.apply_filters("css_rules_before_insert",u[0].sheet.cssRules,v),t=0;t<e.length;t++)switch(e[t].type){case CSSRule.IMPORT_RULE:TVE.stylesheet.insertRule(e[t].cssText,0);break;case CSSRule.MEDIA_RULE:for(var r=TVE.compat.conditionText(e[t]),n=TVE.CSS_Rule_Cache.media_rule(r),i=r===TVE.main.responsive.desktop.media,a=null,o=0;o<e[t].cssRules.length;o++){var s=e[t].cssRules[o],l=null;null!==(a=n.rule_index_by_selector(s.selectorText))&&n.deleteRule(a);for(var c,d=s.style.cssText,_=o+1;c=e[t].cssRules[_++];)c.selectorText===s.selectorText&&(d+=c.style.cssText,e[t].deleteRule(--_));n.insertRule("".concat(s.selectorText," { ").concat(d," }"),n.cssRules.length),i&&null!==(l=TVE.CSS_Rule_Cache.generate_hover_state_css(s))&&n.insertRule(l,n.cssRules.length)}break;case CSSRule.STYLE_RULE:TVE.CSS_Rule_Cache.media_rule(TVE.main.responsive.desktop.media).insertStyleRule(e[t]);break;default:TVE.stylesheet.insertRule(e[t].cssText,TVE.stylesheet.cssRules.length)}"function"==typeof h&&h(u[0]),f.resolve(u[0]),u.remove()},f.promise()},prepare_content_for_editor:function(e){(e=e||TVE.inner_$("body")).find(".thrv_custom_html_shortcode").each(function(){var e=TVE.inner_$(this);e.height()<=10&&0===e.find("img").length?e.append('<div class="tve_shortcode_overlay"><span>No preview available.</span></div>'):e.find("iframe").length&&!e.find(".tve_iframe_cover").length&&e.append('<div class="tve_iframe_cover"></div>')})},cleanupExtensionsJunk:function(e){e.find('input[type="password"],input[type="email"],input[type="text"]').css({"background-image":"","background-repeat":"","background-attachment":"","background-size":"","background-position":""}).removeAttr("data-kwimpalastatus data-kwimpalaid").siblings("span").remove()}}},"element-css.js":function(e,t,r){var l,n,u=r("../../../main/libs/functions");l=jQuery,n=function(){function h(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,h),this.css={},this.options=_objectSpread({},{defaultStyleSelector:TVE.CONST.default_styles.link.selector,globalStylePrefix:TVE.CONST.global_styles.prefix_link,landingPageSelector:TVE.CONST.default_styles.link.lp_selector,required:["color","background-color","font-weight","font-style","text-decoration"],computed:[]},{},t),this.setElement(e)}return _createClass(h,null,[{key:"selectorSpec",get:function(){return"__el__"}},{key:"regexSuffix",get:function(){return"( strong|:hover|:active)?(::before|::after)?"}}]),_createClass(h,[{key:"setElement",value:function(e){this.$el=e,this.el=e[0],e.length&&this.collect()}},{key:"selector",value:function(e,t){var r=1<arguments.length&&void 0!==t?t:null;switch(e){case"default":return this.options.defaultStyleSelector;case"landing_page":return this.options.landingPageSelector;case"global":return"".concat(TVE.CONST.global_css_prefix," .").concat(r||TVE.getClassThatContains(this.el,this.options.globalStylePrefix));case"instance":return"".concat(TVE.CONST.global_css_prefix,' [data-css="').concat(r||TVE.CSS_Rule_Cache.uniq_id(this.el),'"]')}throw new Error("Unknown scope: "+e)}},{key:"collect",value:function(e){var t,r=0<arguments.length&&void 0!==e?e:null;function n(e,t,r,n){if(0!==Object.keys(r).length){var i=n.selectorText.replace(new RegExp("^.+?".concat(h.regexSuffix,"$"),"g"),"".concat(h.selectorSpec,"$1$2"));e[t][i]=e[t][i]?Object.assign(e[t][i],r):r}}if(this.css={},!r||"default"===r){TVE.USE_GLOBALSHEET=!0;var i=TVE.escapedRegEx(this.options.defaultStyleSelector.split(", ").pop(),"g","",h.regexSuffix+"$");this.css=TVE.CSS_Rule_Cache.getCssForSelector(i,!0,n),TVE.USE_GLOBALSHEET=!1}if(r&&"landing_page"!==r||TVE.CONST.landing_page&&(t=TVE.escapedRegEx(this.options.landingPageSelector.split(", ").pop(),"g","",h.regexSuffix+"$"),l.extend(!0,this.css,TVE.CSS_Rule_Cache.getCssForSelector(t,!0,n))),!r||"global"===r){TVE.USE_GLOBALSHEET=!0;var a=TVE.getClassThatContains(this.$el,this.options.globalStylePrefix);a&&(t=new RegExp("".concat(a).concat(h.regexSuffix,"$"),"g"),l.extend(!0,this.css,TVE.CSS_Rule_Cache.getCssForSelector(t,!0,n))),TVE.USE_GLOBALSHEET=!1}if(!r||"instance"===r){if(this.$el.attr("data-selector"))t=TVE.escapedRegEx(this.$el.attr("data-selector").split(", ").pop(),"g","",h.regexSuffix+"$");else{var o=this.$el.attr("data-css")||TVE.CSS_Rule_Cache.generate_id("empty-");t=new RegExp("".concat(o,'"]').concat(h.regexSuffix,"$"),"g")}if(l.extend(!0,this.css,TVE.CSS_Rule_Cache.getCssForSelector(t,!0,n)),this.options.required.length){this.css[TVE.main.media_query_tpl()][h.selectorSpec]=this.css[TVE.main.media_query_tpl()][h.selectorSpec]||{};var s=_.difference(this.options.required,Object.keys(this.css[TVE.main.media_query_tpl()][h.selectorSpec]));this.options.required.includes("margin")&&s.push("margin"),s.length&&l.extend(!0,this.css[TVE.main.media_query_tpl()][h.selectorSpec],this.$el.css(s))}this.options.computed.length&&(l.extend(!0,this.css[TVE.main.media_query_tpl()][h.selectorSpec],this.$el.tcbCss(this.options.computed)),this.each(function(e,t,r){e["--tcb-applied-color"]&&(e.color=e["--tcb-applied-color"].replace("var$","var")+" !important")}))}return this}},{key:"addImport",value:function(t){var r=this;return t=t.replace("!important","").trim().replace(/ /g,"+").replace(/['"]/g,""),TVE.CSS_Rule_Cache.getImports().some(function(e){if(e.includes(t))return r.imports().includes(e)||r.imports().push(e),!0}),this}},{key:"removeImportant",value:function(){var n=this;return this.each(function(r,e,t){_.isString(r)?n.css[t][e]=r.replace(/(\s*)!important/g,""):_.each(r,function(e,t){r[t]=e.replace("!important","").trim()})}),this}},{key:"imports",value:function(){return this.css["@imports"]||(this.css["@imports"]=[])}},{key:"eachImport",value:function(e){_.each(this.imports(),e)}},{key:"each",value:function(n){_.each(this.css,function(e,r){if("@imports"===r)return!0;_.each(e,function(e,t){return n(e,t,r)})})}},{key:"write",value:function(e,t){var r=1<arguments.length&&void 0!==t?t:null;"instance"!==e&&"landing_page"!==e&&(TVE.USE_GLOBALSHEET=!0);var i=this.selector(e,r).split(", ");return this.eachImport(TVE.FontManager.import_font.bind(TVE.FontManager)),this.each(function(e,r,t){var n=i.reduce(function(e,t){return(e?e+", ":"")+r.replace(/__el__/g,t)},"");TVE.write_css(n,e,[t])}),TVE.USE_GLOBALSHEET=!1,this}},{key:"asString",value:function(){var n={"@imports":this.imports()};return this.each(function(e,t,r){n[r]=n[r]||[],n[r].push("".concat(t," {").concat(TVE.CSS_Rule_Cache.objectToCss(e),"}"))}),n}},{key:"getComputed",value:function(r,e,t,n){var i=this,a=1<arguments.length&&void 0!==e?e:"",o=2<arguments.length&&void 0!==t?t:"",s=3<arguments.length&&void 0!==n&&n,l=[TVE.main.media_query_tpl()].concat(TVE.main.get_inherited_media()),c="",d={pristine:!0};return l.some(function(e){var t=u.deepGet(i.css,[e,h.selectorSpec+a+o,r],!1);if(!1===t&&(d.pristine=!1),!1===t&&a&&(t=":hover"===a&&i.hoverComputedStyles&&i.hoverComputedStyles[r]?i.hoverComputedStyles[r]:u.deepGet(i.css,[e,h.selectorSpec+o,r],!1)),!1!==t)return c=t,!0}),d.value=c=String(c||"").replace(/!(\s)?important/g,"").trim(),s?d:c}},{key:"getSelector",value:function(e,t){var r=1<arguments.length&&void 0!==t?t:"";return this.selector(e).split(", ").map(function(e){return e+r}).join(", ")}},{key:"setComputedHover",value:function(e){return this.hoverComputedStyles=e,this}},{key:"remove",value:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return Array.isArray(n[0])&&(n=n[0]),this.each(function(t,e,r){n.forEach(function(e){return delete t[e]})}),this}}]),h}(),t.exports=n},"froala.js":function(e,i,o){o("../../../main/libs/functions");!function(l){var s;TVE.TEXT_INLINE=".tve_fg h1, .tve_fg h3, .tve_ca h3, .tve_ca h1, .tve_ca .tve_btnLink span, .tve_ts span, .tve_ct_title,.thrv_tw_quote p, .thrv_widget_menu .tve_menu_title, .wp-caption-text, .tve_btn_txt, .tve_btn_sec_txt, .tve_fg > .tve_line > h3, .tve_scT > ul > li > span, .thrv_toggle_shortcode .tve_faqB h4, .thrv-inline-text, .thrv-advanced-inline-text,.tve_submit_container button, .thrv_tw_qs_button_text, .tve-custom-menu-type .tve-disabled-text-inner, .thrv_text_element a, .tcb-styled-list a, .tcb-numbered-list a, .tve-tab-text, .tve-toggle-text, .tve-input-option-text, .tcb-editable-label, .tve-input-option-text a",TVE.TEXT_EDITABLE_BY_ELEM=".tve-tab-text, .tve-toggle-text",TVE.TEXT_WITH_LINK=".tcb-styled-list-icon-text, .tcb-numbered-list-text, .tcb-lg-consent .thrv-inline-text, .wp-caption-text",TVE.TEXT_RAW=".thrv_wrapper.thrv-plain-text",TVE.TEXT_HEADINGS=".thrv_wrapper.thrv_heading",TVE.TEXT_BLOCK=".thrv_text_element, .tcb-pagination-label";var a=!(TVE.BLOCK_ELEMENTS="h1,h2,h3,h4,h5,h6,p,address,blockquote,li,.thrv-inline-text,.thrv-advanced-inline-text,a,.tcb-plain-text"),c=o("./selectors"),d={maintain_focus:!1},e=TVE.TEXT_ALL=TVE.TEXT_INLINE+","+TVE.TEXT_RAW+","+TVE.TEXT_HEADINGS+","+TVE.TEXT_BLOCK,h={default:["bold","italic","underline","strikeThrough","textStyles","align-left","align-center","align-right","align-justify","formatUL","formatOL","tcbLink","shortcode","tcbFroalaMode"],inline:["bold","italic","underline","strikeThrough"],inline_link:["bold","italic","underline","strikeThrough","linkStyles","tcbLink","shortcode"],with_link:["bold","italic","underline","strikeThrough","align-left","align-center","align-right","align-justify","tcbLink","shortcode"]},t={};function u(e){return l.proxy(t[e],t)}function r(e){return n(e.find(".thrive-shortcode-content")),e}function n(e){e.attr("contenteditable",!1),0===e.parent(".thrive-inline-shortcode").length&&e.wrap('<span class="thrive-inline-shortcode" contenteditable="false"></span>')}TVE.main.on("device_hide_element",function(e){d.editor&&d.editor.$tb&&TVE.main.device.toLowerCase()===e.toLowerCase()&&d.editor.$tb.closest("#main-fr-toolbar").hide()}),TVE.main.on("device_change",function(){TVE.ActiveElement&&TVE.ActiveElement.is(TVE.TEXT_ALL)&&!TVE.ActiveElement.is(":visible")&&d.hide_toolbars();var e=TVE.main.$frame.offset();switch(e.top+=parseInt(TVE.main.$frame.css("border-top-width"))+100,TVE.main.device){case"mobile":e.top-=38;break;case"tablet":e.top-=12;break;case"desktop":default:e.top-=4}s.css({top:e.top})}),t.focus=function(e,t){a=!0,d.editor=t,TVE.do_action("tcb.froala.focus",t,e),t.$tb&&t.$tb.show();var r=t.$oel.is(TVE.TEXT_BLOCK+",.thrv-inline-text,.thrv-advanced-inline-text,"+TVE.TEXT_HEADINGS)?t.$oel:t.$oel.closest(c.editable);r.length&&!r.hasClass("edit_mode")&&(d.force_show_toolbar=!0,TVE.Editor_Page.focus_element(r,e,{emulate:!0,prevent_selection_clear:!0}),delete d.force_show_toolbar,r.one("element.selected",function(){return!(a=!1)}))},t.refresh=TVE._.throttle(function(e,t,r){var n=!0,i=[l.FE.KEYCODE.ARROW_UP,l.FE.KEYCODE.ARROW_RIGHT,l.FE.KEYCODE.ARROW_DOWN,l.FE.KEYCODE.ARROW_LEFT,l.FE.KEYCODE.ENTER,l.FE.KEYCODE.DELETE,l.FE.KEYCODE.BACKSPACE];"keyup"===e.namespace&&r&&!i.includes(r.which)&&(n=!1),"mouseup"===e.namespace&&a&&(n=!1),n&&d.editor&&(TVE.do_action("tcb.froala.refresh",d.editor,r),TVE.main.update_components(["text","link","click-tweet","shadow","animation"]))},500),t.paste_afterCleanup=function(e,t,r){return t.tcb.getBlockElement().hasClass("tcb-plain-text")&&(r='<div class="tcb-plain-text"> '+t.clean.html(r,["a","p","div","span","pre","blockquote","ul","li","ol","h1","h2","h3","h4","h5","h6"],t.opts.pasteDeniedAttrs)+"</div>"),r.replace(/\u200B/g,"")},t.commands_after=function(e,t,r,n,i){},t.blur=function(e,t){TVE.do_action("tcb.froala.blur",e,t)},t.undo_save_step=function(e,t){TVE.UndoManager.add({undo:function(){return t&&1<t.undo_index?(t.events.focus(),t.undo.run()):"_EXECUTE_NEXT_"},redo:function(){return t&&t.undo_index<t.undo_stack.length?(t.events.focus(),t.undo.redo()):"_EXECUTE_NEXT_"}})},t.keydown=_.debounce(function(e,t,r){r.keyCode===l.FE.KEYCODE.ENTER&&(t.keys.ctrlKey(r)&&!r.shiftKey?TVE.main.trigger("ctrl-enter-pressed",r):TVE.main.trigger("enter-pressed",r)),r.keyCode===l.FE.KEYCODE.BACKSPACE&&TVE.main.trigger("backspace-pressed",r),r.keyCode===l.FE.KEYCODE.DELETE&&TVE.main.trigger("delete-pressed",r),r.keyCode===l.FE.KEYCODE.TAB&&TVE.main.trigger("tab-pressed",r)},100),t.tcb_before_delete=function(e){TVE.main.trigger("before-delete-pressed",e)},t.click=function(e,t,r){if(!TVE.state_manager.is_jump())return r.preventDefault(),!1},d.init=function(){s=TVE.$("#main-fr-toolbar");try{localStorage.FEK="cSXSE1LHAFJVCXCLS=="}catch(e){}delete l.FE.SHORTCUTS_MAP[l.FE.KEYCODE.S],this.froalaExternalConfig=TVE.apply_filters("tcb_froala_config",{}),TVE.Editor_Page.editor.off("click.froala-editor").on("click.froala-editor",e,function(e){TVE.state_manager.is_jump()||e.preventDefault()}).off("mouseenter.froala-editor").on("mouseenter.froala-editor",e,function(e){if(e.currentTarget.closest(".thrv-typography"))return!0;var t=l(e.currentTarget);return!0!==TVE.apply_filters("tcb.froala.non_editable",!1,t)?t.data("froala.editor")||TVE.state_manager.is_jump()?t:void d.initInstance(t):void 0}),TVE.inner.$body.find(".thrive-shortcode-content").each(function(){var e=l(TVE.apply_filters("tve.froala.shortcode.init",this));e.is(":empty")&&e.html(e.attr("data-shortcode-name")),n(e)}),TVE.add_action("tcb_after_cloud_template",r),TVE.add_action("tcb.after_insert_symbol",r),TVE.add_filter("tcb_insert_content_template",r),TVE.add_filter("tcb_filter_html_before_save",d.formatInlineShortcodes),s.draggable({handle:".fr-drag",containment:"body",start:function(e,t){TVE.main.$container.addClass("overlay"),d.editor.frameDropdown.hideAll()},stop:function(){TVE.main.$container.removeClass("overlay")}}),l.FE.DefineIconTemplate("font_awesome",'<svg class="tcb-icon" aria-hidden="true"><use xlink:href="#icon-[NAME]"></use></svg>');["bold","italic","strikeThrough","underline"].forEach(function(e){l.extend(l.FE.ICONS[e],{NAME:l.FE.ICONS[e].NAME.replace(/-light$/,"")+"-light"})}),TVE.main.on("hover_state",function(){(d.maintain_focus=d.editor&&d.editor.core.hasFocus())&&(d.editor.$el.blur(),d.hide_toolbars())}).on("default_state",function(){d.editor&&d.maintain_focus&&d.editor.events.focus()}),TVE.Editor_Page.editor.on("mousedown",".tcb-replaceable-placeholder",function(e){if(0===e.button&&TVE.state_manager.is_default()){var t=l(e.currentTarget);return d.replace_placeholder(t),!1}})},d.initInstance=function(i){i.off("mousedown.prevent froala-focus").on("mousedown.prevent froala-focus",function(e){if(i.find(".tcb-revert-editable").removeClass("tcb-revert-editable").attr("contenteditable","true"),e.currentTarget.classList.contains("edit_mode")||!d.editor||d.editor.$oel.is(e.currentTarget)||(d.editor.events.enableBlur(),d.editor.$el.trigger("blur")),TVE.state()===TVE.STATE_DRAG||TVE.state_manager.is_hover()||i.is(c.not_editable)||!TVE.apply_filters("tcb.element.editable",!0,i))return TVE.do_action("tve.froala.text.noteditable",i),!1;var t;setTimeout(function(){TVE.Views.Controls.DropPanel.close_all()}),d.handleParentHoverLeave(i),"mousedown"!==e.type||(t=l(e.target)).closest(".fr-element").length||(t.find(".fr-element").mousedown(),setTimeout(function(){i.data("froala.editor").events.focus()})),"A"===e.currentTarget.tagName&&(l(e.currentTarget).parents('[contenteditable="true"]').attr("contenteditable","false").addClass("tcb-revert-editable"),e.stopPropagation())});var r,e=i.is(TVE.TEXT_INLINE),t=i.is(TVE.TEXT_RAW),n=i.is(TVE.TEXT_HEADINGS),a=i.is(TVE.TEXT_WITH_LINK)?h.with_link:e?h.inline:h.default;i.hasClass("wp-caption-text")?((a=a.slice()).push("align-left"),a.push("align-center"),a.push("align-right"),a.push("align-justify")):i.is("a")&&(a=h.inline_link),r={key:"cSXSE1LHAFJVCXCLS==",enter:e?null:t?l.FroalaEditor.ENTER_DIV:l.FroalaEditor.ENTER_P,multiLine:!e&&!n,multiLineEnableBR:n,keepFormatOnDelete:!0,placeholderText:"",initOnClick:!0,typingTimer:800,toolbarContainer:s,tooltips:!1,tooltipContainer:TVE.$body,htmlUntouched:!0,htmlAllowedEmptyTags:["i"],toolbarButtons:a,toolbarVisibleWithoutSelection:!0,toolbarHideOnKeyup:!1,toolbarFocusElement:!1},r=TVE.apply_filters("tcb.froala.options",r,i,h),n&&(r.htmlAllowedEmptyTags=TVE.ELEM.headings.split(",").concat(["textarea","a","iframe","object","video","style","script",".fa"])),l.each(this.froalaExternalConfig,function(e,t){r[e]=t}),i[0].classList.add("tve-froala"),i.froalaEditor(r).on("froalaEditor.mouseup",u("refresh")).on("froalaEditor.keyup",u("refresh")).on("froalaEditor.paste.afterCleanup",u("paste_afterCleanup")).on("froalaEditor.commands.after",u("commands_after")).on("froalaEditor.focus",u("focus")).on("froalaEditor.blur",u("blur")).on("froalaEditor.undo.saveStep",u("undo_save_step")).on("froalaEditor.keydown",u("keydown")).on("froalaEditor.tcb_before_delete",u("tcb_before_delete")).on("froalaEditor.click",u("click"));var o=i.data("froala.editor");i.on("froalaEditor.paste.beforeInsert",function(e,t,r){if(i.parents("div[data-link-wrap]").parent("a[href]").length&&l(r).find("a[href]").length){var n=i.closest("a[href]").children().first();return TVE.page_message(TVE.t.warning_link_pasted_inside_link+": "+TVE.get_element_name(n),!0,1e4),!1}}),i.is(TVE.TEXT_BLOCK)||n?i.off("click.tcb").on("click.tcb",function(e){TVE.state_manager.is_jump()||e.stopPropagation()}):e&&(i.on("froalaEditor.initialized",function(e,t){t.events.on("drop",function(){return!1},!0)}),i.on("froalaEditor.paste.beforeInsert",function(e,t,r){return l(r).children(TVE.BLOCK_ELEMENTS).not("a").contents().unwrap(),r.innerHTML}),o.$box=o.$wp=i),TVE.do_action("tcb.froala.element_editor_init",i,r)},d.replace_placeholder=function(e){e.parent().removeClass("tcb-parent-placeholder-empty");var t=l(TVE.main.$('#tve-static-elements [data-elem="text"]').html());TVE.do_action("tcb.froala.replace.placeholder",e,t),e.replaceWith(t),setTimeout(function(){d.force_focus(t)})},d.disable=function(e){1<e.length?e.add(e.find(".tve-froala")).each(function(){var e=l(this);e.data("froala.editor")&&e.froalaEditor("destroy")}):e.data("froala.editor")&&e.froalaEditor("destroy")},d.exec=function(){if(this.editor){for(var e=arguments[0].split("."),t=this.editor,r=t;e.length&&t[e[0]];)t=t[e.shift()],1<e.length&&(r=t);t.apply(r,Array.prototype.slice.call(arguments,1))}},d.get_block_element=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return TVE.apply_filters("text_block_element",this.editor&&this.editor.tcb&&this.editor.tcb.getBlockElement()||TVE.ActiveElement,e)},d.selectionIsFullBlock=function(){return this.editor.tcb.selectionIsFullBlock()},d.has_selection=function(){return!(!this.editor||!this.editor.selection.text())&&this.editor.selection.element()},d.get_selection_element=function(){if(!this.editor)return l();var e=this.editor.selection.element();e.classList.contains("fr-marker")&&(e=e.parentNode);var t=l(e).closest("span");return"span"!==e.tagName.toLowerCase()&&t.length&&(e=t[0]),e&&e!==this.editor.$el[0]||(e=this.editor.tcb.getBlockElement()),l(e)},d.get_css=function(e,t,r,n){if(!this.editor&&TVE.ActiveElement)return TVE.ActiveElement.filter(".edit_mode").css(e);void 0===t&&(t=!0);var i=this.get_selection_element();if(i[0]){if("string"==typeof e){this.get_block_element()[0]!==i[0]&&"span"===i[0].tagName.toLowerCase()&&(n="");var a="";if("color"===e){if(TVE.getClassThatContains(i,TVE.CONST.global_styles.prefix_text)){var o=i.clone();o.css({display:"none"}),TVE.inner_$("head").append(o),a=o.tcbCssVar("--tcb-applied-color").replace(/var\$/g,"var"),o.remove()}a=a||i.tcbCssVar("--tcb-applied-color").replace(/var\$/g,"var")}return a||l(i).head_css(e,!1,r,t,n)}var s={};return _.each(e,function(e){s[e]=i.style[e]||TVE.getComputedStyle(i,e)}),s}},d.wrap_selection=function(e,t){return!!this.editor&&((t=t||{}).class||(t.class=TVE.CSS_Rule_Cache.generate_id()),this.editor.format.apply(e||"span",t),l(this.editor.selection.element()))},d.force_focus=function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],r=l.Deferred();e.data("froala.editor")||d.initInstance(e);var n=e.data("froala.editor");if(n.$el.trigger("mousedown"),t){var i=n.$el.children(),a=!1;i.length||(i=n.$el,a=!0),d.selectNode(i,a)}return setTimeout(function(){n.events.focus(),n.$el.trigger("mouseup")}),r.resolve(n),r.promise()},d.hide_toolbars=function(){this.force_show_toolbar||TVE.$will_focus&&TVE.$will_focus.is(TVE.TEXT_ALL)||(s.tcbHide(),this.editor&&(this.editor.frameDropdown.hideAll(),this.editor.events.enableBlur(),this.editor.$el.blur()),TVE.main.$el.tcbHasClass("tve_froala_pinned_mode")&&TVE.main.$container.removeClass("froala-pinned"))},d.show_toolbars=function(){this.force_show_toolbar||TVE.$will_focus&&TVE.$will_focus.is(TVE.TEXT_ALL)||s.show()},d.handleParentHoverLeave=function(e){var t=e.parentsUntil(TVE.Editor_Page.editor,".thrv_wrapper");t.length||(t=TVE.Editor_Page.editor),t.one("mouseleave",TVE._.debounce(function(){TVE.ActiveElement&&TVE.main.update_components(["text"])},50))},d.formatInlineShortcodes=function(e){var a="data-attr-",o="data-option-";return e.find(".tve-dynamic-link").each(function(){var e="";e=this.getAttribute("dynamic-postlink")?"["+this.getAttribute("dynamic-postlink")+"]":this.getAttribute("data-custom-shortcode")?this.getAttribute("data-custom-shortcode"):"["+this.getAttribute("data-dynamic-link")+" id="+this.getAttribute("data-shortcode-id")+"]",this.setAttribute("href",e)}),d.refreshLinks(e),e.find(".thrive-inline-shortcode").each(function(){var e=l(this),t=e.find(".thrive-shortcode-content"),r=t.data("shortcode");t.each(function(){TVE.do_action("tve.froala.inline.shortcodes.before.save",this),l.each(this.attributes,function(){this.name.startsWith(a)?r+=" "+this.name.replace(a,"")+"='"+this.value+"'":this.name.startsWith(o)&&(r+=" "+this.name.replace(o,"")+"='"+this.value+"'")})});var n=t.find("a");if(n.length){var i=n.attr("data-css");i&&(r+=' link-css-attr="'+i+'"')}t.attr("data-css",e.data("css")).attr("style",e.attr("style")).html("["+r+"]"),e.replaceWith(e.html())}),e},d.selectNode=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if((e=e.jquery?e[0]:e)&&this.editor){var r=this.editor.selection.get();r.removeAllRanges();var n=this.editor.doc.createRange();n[t?"selectNodeContents":"selectNode"](e),r.addRange(n)}},d.refreshLinks=function(e){var t=0<arguments.length&&void 0!==e?e:this.editor&&this.editor.$el;function i(t){var r={className:String(t.className)};Array.from(t.attributes).forEach(function(e){return r[e.nodeName]=t.getAttribute(e.nodeName)}),r.href&&r.href.startsWith("[")&&(r.href=r.href.replace(/^\[(.+?)]$/g,function(e,t){return"((".concat(t,"))")})),r.title&&r.title.includes("[")&&(r.title=r.title.replace(/\[(.+?)\]/g,function(e,t){return"((".concat(t,"))")})),l(t.parentNode).tcbJsonData("attr-static-link",r)}t&&t.length&&(t.find("a").add(t.filter("a")).each(function(e,t){if(t.parentNode.classList.contains("thrive-shortcode-content"))i(t);else if(1===t.children.length){var r=t.children[0];if(r.textContent===t.textContent.trim()&&r.classList.contains("thrive-inline-shortcode")){var n=l(t).clone().empty().text(t.textContent.trim());l(r).unwrap().find(".thrive-shortcode-content").html("").append(n),i(n[0])}}}),t.find(".thrive-inline-shortcode > [data-attr-static-link]").each(function(e,t){t.children.length&&"A"===t.children[0].tagName||delete t.dataset.attrStaticLink}))},i.exports=d}(jQuery)},"general.js":function(e,t,r){var w,n,R=r("../../../main/libs/functions");function A(e,r,t){var n=t;return e&&(n+='[data-css="'.concat(e,'"]')),r?(Array.isArray(r)||(r=[r]),n.split(", ").map(function(t){return r.map(function(e){return t+e}).join(", ")}).join(", ")):n}function k(e,t,r,n,i){var a=4<arguments.length&&void 0!==i?i:e.dataset.selector,o=TVE.apply_filters("head_css_selector",{prefix:r,suffix:t,selector:a,element:e,rules:n,addPrefix:!0});return o.addPrefix||(o.prefix=""),A(!1,t,o.prefix+o.selector)}function u(e){var t=e.selectorText,n=this.style_by_selector(t),i=TVE.CSS_Rule_Cache.cssToObject(e.cssText);Object.keys(i).forEach(function(e){var t=i[e],r=t.includes("important")?"important":void 0;t=t.replace("!important","").trim(),n.setProperty(e,t,r)})}function v(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]&&arguments[3];TVE.BROWSER.edge&&e&&(e=e.replace(/"/g,"'")),e=TVE.apply_filters("tcb.selector",e);var i=R.getStyleBySelector(this,e,n);if(i)return i;if(void 0===t&&(t=!0),t){var a=this.cssRules.length;return this.insertRule(e+"{}",a),this.cssRules[a].style}return null}w=jQuery,(n={flag_modify_hover_selector:!0,ELEM:{headings:"h1,h2,h3,h4,h5,h6",text:"p:not(.tve_more_tag,.thrv-inline-text p),h1,h2,h3,h4,h5,h6,ol:not(.tcb-numbered-list),ul:not(.tcb-styled-list,.tcb-numbered-list,.thrv_bullets_shortcode ul),blockquote,address,pre"},FILTER_TYPES:{greyscale:"greyscale",blur:"blur",brightness:"brightness",contrast:"contrast",invert:"invert",saturate:"saturate",sepia:"sepia",huerotate:"hue-rotate"},CSS_RULE_FIRST:"0",CSS_RULE_LAST:"1",STATE_DEFAULT:"default",STATE_EDIT:"edit",STATE_TINYMCE:"tinymce",STATE_DRAG:"drag",state:function(e){return void 0===e?this.CUR_STATE:(e!==this.CUR_STATE&&(TVE.main.trigger("exitstate_"+this.CUR_STATE,e),TVE.main.trigger("enterstate_"+e,this.CUR_STATE),w("body").toggleClass("tcb-edit-mode",e===this.STATE_EDIT),this.CUR_STATE=e),this)},allow_drag:function(){return!0},allow_tinymce:function(){return this.CUR_STATE===this.STATE_DEFAULT||this.CUR_STATE===this.STATE_TINYMCE},allow_edit:function(){return this.CUR_STATE===this.STATE_DEFAULT||this.CUR_STATE===this.STATE_EDIT||this.CUR_STATE===this.STATE_TINYMCE},store_active_element:function(){return TVE.ActiveElement&&(this.$$stored_active_element=TVE.ActiveElement),this},restore_active_element:function(){return this.$$stored_active_element&&(TVE.ActiveElement=this.$$stored_active_element,delete this.$$stored_active_element),this},getSelectedElement:function(){return TVE.ClickedElement||TVE.ActiveElement.filter(".edit_mode")}}).CUR_STATE=n.STATE_DEFAULT,w.fn.extend({head_css:function(d,_,h,s,u){void 0===h&&(h=""),void 0===u&&(u=""),h=TVE.apply_filters("tcb_head_css_suffix",h,this,d),u=TVE.apply_filters("tcb_head_css_prefix",u,this,d);var l=Array.isArray(d),a=Array.prototype.slice.call(arguments),v=this;if("string"==typeof d||l){var c=function(e,t,r){if(!(2<arguments.length&&void 0!==r&&r)&&_!==TVE.main.responsive.desktop.media)return a[1]=TVE.main.get_inherited_media(TVE.main.getDeviceForMedia(_))[0],e.head_css.apply(e,a);if(!h)return e.css(t);var n=R.elementForSuffix(e,h);if(n.length&&n._tve_selector.includes("::")){var i=n._tve_selector.match(/::\w+/g)[0];return o(window.getComputedStyle(n[0],i),t,!1)}return n.css(t)},o=function(i,e,t){var a=2<arguments.length&&void 0!==t?t:s,o=R.getElementForDataSelector(v);function r(e,t){var r=1<arguments.length&&void 0!==t&&t,n=i.getPropertyValue(e);return!n&&a&&(n=c(o,e,r)),n}if(l){var n={};return e.forEach(function(e){return n[e]=r(e,!0)}),n}return r(e)},e=function(e,t){var r,n=!1;return e&&t&&(t=t.replace(TVE.state_manager.css_class(),""),t=TVE.apply_filters("tve.read.css.fallback.selector.".concat(TVE._type(TVE.ActiveElement)),t,TVE.state_manager.get_state()),l?d.forEach(function(e){TVE.CONST.cssVarProps.includes(e)&&(r=r||[]).push("".concat(TVE.CONST.cssVarPrefix).concat(e))}):TVE.CONST.cssVarProps.includes(d)&&(r="".concat(TVE.CONST.cssVarPrefix).concat(d)),(i=e.style_by_selector(t,!1))&&(n=o(i,d)),n&&(TVE._.isObject(n)?Object.keys(n).forEach(function(e){n[e]=n[e].replace(/var\$/g,"var")}):n=n.replace(/var\$/g,"var"))),n};if(!this.length)return"";_=_||TVE.main.media_query_tpl(),t=TVE.CSS_Rule_Cache.media_rule(_);var t,i,r,n=this[0],f=n.dataset.css,p=!1;if(TVE.state_manager.is_hover()||TVE.FLAGS.hover_element){var g=TVE.apply_filters("hover_prefix_selector",TVE.CONST.global_css_prefix,v[0])+" ";if(TVE.USE_GLOBALSHEET){var m=TVE.getClassThatContains(v[0],TVE.CONST.global_cls_prefix)+".tve-state-hover";r=TVE.apply_filters("global_style_selector",A(!1,h,g+"."+m),m,g,v)}else if(f){var E=A(f,h,u),T=E.split(", ");if(TVE.state_manager.is_child()){var b=TVE.state_manager.get_parent(),y=b.attr("data-css")?'[data-css="'+b.attr("data-css")+'"]':"",V=-1!==E.indexOf(g);w.each(T,function(e,t){t=t.replace(g,""),T[e]=(V?g:"")+y+".tve-state-hover "+t})}else{var x;x=v.attr("data-selector")?"["+v.attr("data-selector")+"]":'[data-css="'+TVE.CSS_Rule_Cache.uniq_id(v)+'"]',w.each(T,function(e,t){if(TVE.ActiveElement&&(TVE.ActiveElement.is(".thrv-content-box")||TVE.ActiveElement.is(".thrv-page-section"))){var r="";-1!==t.indexOf(".thrv-content-box ")&&(t=t.replace(".thrv-content-box ",""),r=".thrv-content-box"),T[e]=r+'[data-css="'+TVE.ActiveElement.attr("data-css")+'"].tve-state-hover '+x}else T[e]=x+".tve-state-hover";T[e]=T[e]+t.replace(x,""),T[e]=g+T[e].replace(g,""),T[e]=w.trim(T[e].replace(/([ ]{2,})/g," "))})}r=T.join(", ")}else n.dataset.selector&&(r=k(n,h,g,d,n.dataset.selector+TVE.state_manager.css_class()));if(t&&(i=t.style_by_selector(r,!1))&&(p=o(i,d)),!p){var C=r;!u&&C&&g&&(C=C.replace(g,"")),p=e(t,C)}!p&&s&&(p=c(v,d))}else if(f||n.dataset.selector||TVE.USE_GLOBALSHEET){if(TVE.USE_GLOBALSHEET){var S=TVE.getClassThatContains(n,TVE.CONST.global_cls_prefix);r=TVE.apply_filters("global_style_selector",A(!1,h,u+"."+S),S,u,v)}else r=n.dataset.selector?k(n,h,u,d):A(f,h,u);r=r.replace(/(\s{2,})/g," "),t&&(i=t.style_by_selector(r,!1))&&(p=o(i,d))}return p=p||e(t,r),TVE.apply_filters("tcb.head_css.get.force_css",s&&!p,p)&&(p=c(R.getElementForDataSelector(v),d)),p=p||(l?{}:"")}return this.each(function(){var e,t=this.dataset.css;if(TVE.USE_GLOBALSHEET){var r=TVE.getClassThatContains(v,TVE.CONST.global_cls_prefix);e=TVE.apply_filters("global_style_selector",A(!1,h,u+"."+r),r,u,v)}else if(this.dataset.selector)e=k(this,h,u,d);else{if(TVE.apply_filters("tcb.generate_new_css_id",t,this)){var n=TVE.Editor_Page.editor.find('[data-css="'+t+'"]');if(TVE.apply_filters("regenerate_css_id",1<n.length,t,n)){var i=TVE.CSS_Rule_Cache.generate_id();this.setAttribute("data-css",i),TVE.head_css_copy(t,i),t=i}else{for(var a,o=TVE.main.all_media(),s=0,l=TVE.getActiveStylesheet().key,c=0;a=o[c++];)-1!==TVE.CSS_Rule_Cache[l][a].cssText.indexOf(t)&&s++;TVE.apply_filters("set_new_css_id",0===s,t)&&!w(this).data("keep-css_id")&&(t=TVE.CSS_Rule_Cache.uniq_id(this,!0))}}else t=TVE.apply_filters("tcb.head_css_new_id",TVE.CSS_Rule_Cache.uniq_id(this));e=A(t,h,u)}e=e.replace(/(\s{2,})/g," "),TVE.head_css(e,d,_,this)})},copy_styles_different_stylesheet:function(e,t,r){for(var n,i=TVE.main.all_media(),a=0;n=i[a++];)if(0!==e[n].length){for(var o=e[n].split("}"),s=0;s<o.length;s++)if(0!==o[s].length)for(var l=0;l<t.length;l++)o[s].includes(t[l])&&(o[s]=o[s].split(t[l]).join(r[l]),o[s]=TVE.apply_filters("tcb.copy_stylesheet_rule",o[s],t[l],r[l]));for(var c=0;c<o.length;c++)if(0!==o[c].length){o[c]+="}",o[c]=TVE.apply_filters("tcb.copy_styles_different_stylesheet",o[c]);var d=TVE.decodeCssRule(o[c]);try{TVE.write_css(d.selector,d.props,[n]),-1<d.selector.indexOf(":hover")&&TVE.write_css(d.selector.replace(":hover",".tve-state-hover"),d.props,[n])}catch(e){console.log(d.selector+"is not a valid selector")}}}},collect_head_css:function(){var e={},t=TVE.main.all_media(),r="",n='[data-css^="tve-u-"], [data-selector]',i=TVE.getClassThatContains(this,TVE.CONST.global_cls_prefix);function a(e,t){return t&&!e.includes(t)&&(e+=(e?"|":"")+t),e}0<i.length&&(n+=', [class*="'+i+'"]'),this.add(this.find(n)).each(function(){var e=TVE.USE_GLOBALSHEET?i:this.getAttribute("data-css"),t=this.getAttribute("data-selector");if(!e&&!t)return!0;r=a(r=a(r,e),t)});var o,s,l,c,d=TVE.apply_filters("tve.collect_head_css.custom_ids",[],this,r);if(d.length&&d.forEach(function(e){r=a(r,e)}),!r)return e;r=new RegExp("("+r.replace(/([().[\]])/g,"\\$1")+")","g");for(var _,h=0;_=t[h++];){var u=TVE.CSS_Rule_Cache.media_rule(_);e[_]="";for(var v,f=0;v=u.cssRules[f++];)v.selectorText.match(r)&&(o=v,l=s=void 0,s=R.getRealSelector(o),l=!1,c=/ (p|h1|h2|h3)$/,(TVE.apply_filters("tcb.collect_head_css.whitelist_rule",!1,o.selectorText,o.cssText)||jQuery(s).length)&&jQuery.trim(o.cssText.replace(o.selectorText,"").replace(/\{(\s*)\}/g,""))&&(l=!0),l||s.match(c)&&-1!==o.cssText.indexOf("margin")&&(l=jQuery(s.replace(c,"")).length),l)&&(e[_]+=v.cssText)}return e},color_selector:function(e){return void 0!==e?e?this.attr("data-tve-custom-colour",e):this.removeAttr("data-tve-custom-colour"):this.attr("data-tve-custom-colour")},head_css_clone:function(){return this.each(function(){var e=this.getAttribute("data-css");if(!e||0!==e.indexOf("tve-u-"))return!0;TVE.head_css_copy('[data-css="'+e+'"]','[data-css="'+TVE.CSS_Rule_Cache.uniq_id(this,!0)+'"]')})},head_css_copy:function(e){e.jquery&&(e=e[0]);var t=e.getAttribute("data-css");return t&&0===t.indexOf("tve-u-")?this.each(function(){TVE.head_css_copy('[data-css="'+t+'"]','[data-css="'+TVE.CSS_Rule_Cache.uniq_id(this,!0)+'"]')}):this},tve_overlay:function(e,t){var r=this,n=0<arguments.length&&void 0!==e?e:"",i=1<arguments.length&&void 0!==t&&t;function a(){var e=i;e||((e=r.offset()).width=r.outerWidth(),e.height=r.outerHeight());var t=Math.max(TVE.inner.$body.outerHeight(!0),TVE.main.$container.outerHeight());o[0].style.height=Math.max(e.top,0)+"px",o[0].classList.add("o-top"),o[1].style.top=e.top+"px",o[1].style.width=Math.max(e.left,0)+"px",o[1].style.height=e.height+"px",o[1].classList.add("o-left"),o[2].style.top=e.top+"px",o[2].style.left=e.left+e.width+"px",o[2].style.height=e.height+"px",o[2].classList.add("o-right"),o[3].style.top=e.top+e.height+"px",o[3].style.height=Math.max(t-e.height-e.top,0)+"px",o[3].classList.add("o-bottom")}TVE.remove_element_overlay(),n="tve-element-mask"+(n?" "+n:"");var o=TVE.inner_$("<div></div>",{class:n}).add(TVE.inner_$("<div></div>",{class:n})).add(TVE.inner_$("<div></div>",{class:n})).add(TVE.inner_$("<div></div>",{class:n}));return a(),TVE.overlaySensor=new TVE.ResizeSensor(this[0],a),TVE.inner.$body.append(o),this},tve_highlight:function(e){var t=0<arguments.length&&void 0!==e?e:w.noop(),r=this,n=TVE.inner_$(".tcb-element-highlight");function i(){var e=r.offset();e.width=r.outerWidth(),e.height=r.outerHeight(),n.stop().hide().css(e).fadeIn(200,function(){n.fadeOut(200,function(){n.fadeIn(200,function(){n.fadeOut(300)})})})}return n.length||(n=w('<div class="tcb-element-highlight"></div>').appendTo(TVE.inner.$body)),TVE.inner.window.TCB_Front.isInViewport(r[0],50)?i():TVE.inner_$("html").stop().animate({scrollTop:r.offset().top-50},{duration:500,complete:i}),"function"==typeof t&&t(),this},getMostDistantParent:function(){return this.parent().is(TVE.Editor_Page.editor)?this:this.parentsUntil(TVE.Editor_Page.editor,TVE.Editor_Page.selection_manager.selectors.get("editable")).last()},removeClassContaining:function(t){var r=this;return TVE._.isRegExp(t)||(t=new RegExp("(^| )[-\\w]*("+t+")[-\\w]*($| )","g")),this.each(function(e){r[e].className=(r[e].className||"").replace(t," ").replace(/\s+/g," ").trim()})},mediaAttr:function(e,t){var r=e;if(e=e+"-"+TVE.main.device.charAt(0),void 0!==t)return this.attr(e,t);var n=TVE.main.media_rule_index(),i=this.attr(e),a=[];for(1<n&&a.push("tablet"),0<n&&a.push("desktop");void 0===i&&a.length;)i=this.attr(r+"-"+a.shift().charAt(0));return void 0===i&&(i=this.attr(r)),i},removeAllMediaAttr:function(t){var r=this;return["desktop","tablet","mobile"].forEach(function(e){r.removeAttr("".concat(t,"-").concat(e.charAt(0)))}),this},removeMediaAttr:function(e){return e=e+"-"+TVE.main.device.charAt(0),this.removeAttr(e)},tveBoundingBox:function(){var r={top:1/0,left:1/0,right:-1/0,bottom:-1/0};return this.each(function(){var t=function(e){var t=w.extend({},e.offset(),{width:e.outerWidth(),height:e.outerHeight()});return t.right=t.left+t.width,t.bottom=t.top+t.height,t}(w(this));["top","left"].forEach(function(e){return r[e]=Math.min(r[e],t[e])}),["right","bottom"].forEach(function(e){return r[e]=Math.max(r[e],t[e])})}),r.width=r.right-r.left,r.height=r.bottom-r.top,r},applyChildrenGlobalStyle:function(){return this.each(function(){var n=this;if(this.dataset.childStyles){var e=w(this),t=e.tcbJsonData("child-styles");w.each(t,function(r,e){w.each(e,function(e,t){return function(e,t,r){e.removeClassContaining(TVE.CONST.global_styles["prefix_".concat(r)]).addClass(TVE.CONST.global_styles["prefix_".concat(r)]+t)}(w(e,n).not(".thrive-symbol-shortcode *"),t,r)})}),e.find("[data-child-styles]").applyChildrenGlobalStyle()}})},tcbJsonData:function(e,t,r,n){var i,a=2<arguments.length&&void 0!==r?r:{},o=3<arguments.length&&void 0!==n?n:"";if(void 0!==t)return this.attr("data-".concat(e),o+JSON.stringify(t)+o);try{var s=this.attr("data-".concat(e))||JSON.stringify(a);o&&(s=s.replace(new RegExp("(^".concat(o,"|").concat(o,"$)"),"g"),"")),i=JSON.parse(s)}catch(e){console.warn("Could not get json data for element:",this),i=a}return i},tcbCssVar:function(e,t,r){var n=1<arguments.length&&void 0!==t?t:null,i=2<arguments.length&&void 0!==r?r:"";return this.length&&getComputedStyle(this[0],n).getPropertyValue(e)||i},tcbCss:function(e,t){var r=this;if(void 0!==t||w.isPlainObject(e)){var i={};return"string"==typeof e?i[e]=t:i=e,this.each(function(){var n=this;Object.keys(i).forEach(function(e){if(""!==i[e]){var t=String(i[e]),r=t.includes("important")?"important":void 0;t=t.replace("!important","").trim(),n.style.setProperty(e,t,r)}else n.style.removeProperty(e)}),this.style.cssText+=""})}function n(e){return 0===e.indexOf("--")}if(Array.isArray(e)){var a=this.css(e);return e.filter(n).forEach(function(e){return a[e]=r.tcbCssVar(e)}),a}return n(e)?this.tcbCssVar(e):this.css(e)}}),n.head_css=function(e,t,r,n){r="_ALL"===(r=r||TVE.main.media_query_tpl())?TVE.main.all_media():[r];var i=!1;if(this.flag_modify_hover_selector&&TVE.state_manager.is_hover()){var a,o=TVE.apply_filters("hover_prefix_selector",TVE.CONST.global_css_prefix,n,e)+" ",s=e.split(", "),l=[];if(TVE.state_manager.is_child()){var c=TVE.ActiveElement&&1<TVE.ActiveElement.length&&n?TVE.inner_$(n).closest(TVE.state_manager.get_parent()):TVE.state_manager.get_parent(),d=c.data("selector")?c.data("selector"):'[data-css="'+TVE.CSS_Rule_Cache.uniq_id(c)+'"]',_=-1!==e.indexOf(o);s=e.split(", "),w.each(s,function(e,t){t=t.replace(o,""),l[e]=(_?o:"")+d+TVE.state_manager.css_class()+" "+t,s[e]=(_?o:"")+d+TVE.state_manager.get_pseudo()+" "+t})}else{var h;void 0!==n&&TVE.state_manager.needs_hover_state_parent(n)&&w.each(TVE.ActiveElement,function(e,t){if(TVE.inner_$(t).find(n).length)return n=TVE.ActiveElement[e],!1}),n=(n=void 0===n?TVE.ActiveElement[0]:n).jquery?n[0]:n,h=TVE.USE_GLOBALSHEET?TVE.getClassThatContains(n,TVE.CONST.global_cls_prefix):n.dataset.selector?n.dataset.selector:'[data-css="'+TVE.CSS_Rule_Cache.uniq_id(n)+'"]',TVE.USE_GLOBALSHEET&&0<jQuery(n).find('[data-tcb_hover_state_parent="1"]').length&&e.trim()!=="."+h?w.each(s,function(e,t){-1!==(t=" "+t.replace(o,"")).indexOf(".thrv-content-box")&&(t=t.replace(".thrv-content-box",""));var r=o,n=" "+t;s[e]=TVE.remove_extra_spaces(r+"."+h+TVE.state_manager.get_pseudo()+n),l[e]=TVE.remove_extra_spaces(r+"."+h+TVE.state_manager.css_class()+n)}):w.each(s,function(e,t){-1!==(t=" "+t.replace(o,"")).indexOf(".thrv-content-box")&&(t=t.replace(/(.thrv-content-box)/,"$1"+h)),-1===t.indexOf(h)&&(t=h+" "+t);var r=t.split(h),n=r[0],i=r[1];2===r.length?(n=o+n,s[e]=TVE.remove_extra_spaces(n+h+TVE.state_manager.get_pseudo()+i),l[e]=TVE.remove_extra_spaces(n+h+TVE.state_manager.css_class()+i)):console.error("I was not expecting this situation, please solve it!!!!",t,h)}),i=!0}var u=TVE.apply_filters("hover_head_css_selector",{selector:s.join(", "),current_element:n,state_preview_selector:l.join(", ")});e=u.selector,a=u.state_preview_selector}i=TVE.apply_filters("tcb.force_important",i,e,t),a&&TVE.write_css(a,t,r,i),TVE.add_undo_step(e,t,r),TVE.write_css(e,t,r,i)},n.add_undo_step=function(t,r,n){if(TVE.SKIP_CSS_STATE)TVE.UNDO_RULES||(TVE.UNDO_RULES=TVE.head_css_get(t,r,n,!1));else{TVE.UNDO_RULES&&w.each(r,function(e,t){if(void 0===TVE.UNDO_RULES[e])return delete TVE.UNDO_RULES,!1});var i=null;TVE.UndoManager.temp.get()&&(i=TVE.UndoManager.temp.get(),TVE.UndoManager.temp.delete()),null===i&&(i=TVE.UNDO_RULES||TVE.head_css_get(t,r,n,!1)),TVE.UndoManager.add({undo:function(){var e=TVE.SKIP_CSS_STATE;TVE.SKIP_CSS_STATE=!0,Array.isArray(i)?i.forEach(function(e){TVE.head_css(t,e.rules,e._media)}):TVE.head_css(t,i,n),TVE.SKIP_CSS_STATE=e},redo:function(){var e=TVE.SKIP_CSS_STATE;TVE.SKIP_CSS_STATE=!0,TVE.head_css(t,r,n),TVE.SKIP_CSS_STATE=e}}),delete TVE.UNDO_RULES}},n.write_css=function(e,t,r,i,n){function a(n){w.each(t,function(e,t){var r="";"string"==typeof t&&-1!==t.indexOf("important")&&(t=w.trim(t.replace(/!(\s*)important/,"")),r="important"),t||n.removeProperty(e),i&&(r="important"),n.setProperty(e,t,r)})}if(void 0===n&&(n=TVE.CSS_RULE_FIRST),r)if(Array.isArray(r))for(var o,s=0;o=r[s++];)a(this.CSS_Rule_Cache.media_rule(o).style_by_selector(e,!0,n));else a(this.CSS_Rule_Cache.media_rule(r).style_by_selector(e,!0,n));else a(this.CSS_Rule_Cache.stylesheet_rule().style_by_selector(e,!0,n));TVE.do_action("tcb.write_css",e,t,r),TVE.do_action("tcb.write_css.".concat(TVE._type(TVE.ActiveElement)),e,t,r)},n.head_css_get=function(e,t,r,n){var i=4<arguments.length&&void 0!==arguments[4]&&arguments[4],a=[];if(n)var o=w(e);function s(e,t){var r=e?e.getPropertyValue(t):"";return r&&"important"===e.getPropertyPriority(t)&&(r+="!important"),!r&&n&&(r=o.css(t)),r}r="_ALL"===(r=r||TVE.main.media_query_tpl())?TVE.main.all_media():Array.isArray(r)?r:[r];for(var l,c=0;l=r[c++];){var d=this.CSS_Rule_Cache.media_rule(l).style_by_selector(e,!1,0,i),_={};w.isPlainObject(t)?w.each(t,function(e,t){_[e]=s(d,e),"string"==typeof t&&-1!==t.indexOf("important")&&-1===_[e].indexOf("important")&&(_[e]+="!important")}):Array.isArray(t)?t.forEach(function(e){_[e]=s(d,e)}):"string"==typeof t&&!(_=d?d.getPropertyValue(t):"")&&n&&(_=o.css(t)),a.push({media:l,rules:_})}return a.length?1===a.length?a.pop().rules:a:{}},n.head_css_remove=function(t,e){var i=this,a=2<arguments.length&&void 0!==arguments[2]&&arguments[2];e="_ALL"===(e=e||TVE.main.media_query_tpl())?TVE.main.all_media():[e];var o=TVE._.isRegExp(t);function s(e){return!o&&e.selectorText===t||!(o||!a||!e.selectorText.includes(t))||!(!o||!t.exec(e.selectorText))&&!(t.lastIndex=0)}e.forEach(function(e){for(var t,r=i.CSS_Rule_Cache.media_rule(e),n=0;(t=r.cssRules[n++])&&(!s(t)||(r.deleteRule(--n),a||o)););});for(var r=TVE.getActiveStylesheet().sheet,n=r.cssRules.length,l=0;l<n;l++){var c=r.cssRules[l];if((!c||c.type===CSSRule.STYLE_RULE)&&s(c)){r.deleteRule(l--);break}}},n.head_css_copy=function(r,n){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";if(r){for(var e,t=TVE.main.all_media(),i=0;e=t[i++];)for(var o=this.CSS_Rule_Cache.media_rule(e),s=o.cssRules.length,l=0;l<s;l++)-1!==o.cssRules[l].cssText.indexOf(r)&&function(){var e=o.cssRules[l].cssText.split(r).join(n),t=o.cssRules[l].selectorText.split(r).join(n),i=o.style_by_selector(t,!1);i?_.mapObject(TVE.CSS_Rule_Cache.cssToObject(e),function(e,t){if(a){var r=Array.isArray(a);if(!r&&t!==a||r&&!a.includes(t))return!1}var n=e.includes("important")?"important":"";e=e.replace("!important","").replace("! important","").trim(),i.setProperty(t,e,n)}):o.insertRule(e,o.cssRules.length)}();for(var c=TVE.getActiveStylesheet().sheet,d=c.cssRules.length,h=0;h<d;h++){var u=c.cssRules[h];if(u.type===CSSRule.STYLE_RULE&&-1!==u.cssText.indexOf(r)){var v=u.cssText.split(r).join(n);"function"==typeof selector_callback&&(v=selector_callback(v,u)),c.insertRule(v,c.cssRules.length)}}}},n.hasHeadCss=function(e,t){for(var r,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=n?[n]:TVE.main.all_media(),a=0;r=i[a++];)for(var o,s=this.CSS_Rule_Cache.media_rule(r),l=0;o=s.cssRules[l++];)if(t&&o.selectorText===e||!t&&-1!==o.selectorText.indexOf(e))return!0;return!1},n.CSS_Rule_Cache={page_index:Math.floor(1e5*Math.random()),uniq_id:function(e,t){void 0===t&&(t=!1),e.jquery&&(e=e[0]);var r=e.getAttribute("data-css");return!t&&r||(r=this.generate_id(),e.setAttribute("data-css",r)),r},generate_id:function(e,t){var r=1<arguments.length&&void 0!==t?t:16;return void 0===e&&(e="tve-u-"),e+((new Date).getTime()+this.page_index++).toString(r)},media_rule:function(e,t,r){function n(e,t){for(var r=0;r<e.length;r++)if(-1!==e.item(r).replace(/ /g,"").indexOf(t.replace(/ /g,"")))return!0;return!1}r=r||"",void 0===t&&(t=TVE.main.media_rule_index(TVE.main.getDeviceForMedia(e)));var i,a=!1,o=-1,s=0,l=TVE.getActiveStylesheet(),c=l.sheet,d=l.key;if(this[d]||(this[d]={}),!this[d][e]){for(var _=0;_<c.cssRules.length;_++)if((i=c.cssRules[_]).type!==CSSRule.IMPORT_RULE){if(i.type===CSSRule.MEDIA_RULE&&i.media&&i.media.length&&n(i.media,e)){a=!0,o=_,this[d][e]=i;break}}else s++;if(a){if(t+s<o){var h=this[d][e].cssText;c.deleteRule(o),c.insertRule(h,t+s),this[d][e]=c.cssRules[t+s]}}else(t+=s)>c.cssRules.length&&(t=c.cssRules.length),c.insertRule(r||"@media "+e+"{}",t),this[d][e]=c.cssRules[t];this[d][e].style_by_selector=v.bind(this[d][e]),this[d][e].rule_index_by_selector=function(e){TVE.BROWSER.edge&&e&&(e=e.replace(/"/g,"'"));for(var t=this.cssRules.length-1;0<=t;t--)if(this.cssRules[t].selectorText===e)return t;return null}.bind(this[d][e]),this[d][e].insertStyleRule=u.bind(this[d][e])}return this[d][e]},stylesheet_rule:function(){var e=TVE.getActiveStylesheet().sheet;return e.style_by_selector=v.bind(e),e.insertStyleRule=u.bind(e),e},clear:function(){var r=this,n=TVE.getActiveStylesheet().key;w.each(TVE.main.responsive,function(e,t){delete r[n][t.media]})},init:function(){var r=this;w.each(TVE.main.responsive,function(e,t){r.media_rule(t.media,t.rule_index)});var e=this.media_rule(TVE.main.responsive.desktop.media);if(-1!==e.cssText.indexOf(":hover"))for(var t=e.cssRules.length,n=null,i=0;i<t;i++)null!==(n=this.generate_hover_state_css(e.cssRules[i]))&&e.insertRule(n,e.cssRules.length);for(var a,o=TVE.getActiveStylesheet().sheet,s=0;a=o.cssRules[s];)a.type!==CSSRule.STYLE_RULE?s++:(TVE.CSS_Rule_Cache.media_rule(TVE.main.responsive.desktop.media).insertStyleRule(a),o.deleteRule(s));TVE.FLAGS.stylesheetLoaded=!0,TVE.USE_GLOBALSHEET?TVE.main.trigger("globalsheet_loaded"):TVE.main.trigger("stylesheet_loaded")},insertImport:function(e){e.includes("@import")||(e='@import url("'.concat(e,'")')),TVE.getActiveStylesheet().sheet.insertRule(e,0)},getImports:function(e){var t=0<arguments.length&&void 0!==e&&e,r=[];return TVE._.each(TVE.getActiveStylesheet().sheet.cssRules,function(e){e.type===CSSRule.IMPORT_RULE&&r.push(e[t?"href":"cssText"])}),r},removeRule:function(e){TVE.getActiveStylesheet().sheet.cssRules[e]&&TVE.getActiveStylesheet().sheet.deleteRule(e)},toText:function(e){for(var t,r="",n=0;t=TVE.getActiveStylesheet().sheet.cssRules[n++];)e?t.type===e&&(r+=t.cssText):r+=t.cssText;return r},cssToObject:function(e,a){e.includes("{")&&(e=e.replace(/[^{]+{([^}]+?)}/,"$1")),e=e.replace(/url\((['"])(?:(?!\1).+?)\1\)/g,function(e){return e.replace(/;/g,"__ccc__")});var o={};return w.each(e.split(";"),function(e,t){var r=t.split(":"),n=w.trim(r.shift()),i=w.trim(r.join(":"));n&&i&&(o[n]=i.replace(/__ccc__/g,";")+(a?" !important":""))}),o},objectToCss:function(e,t){var r=1<arguments.length&&void 0!==t&&t,n="";return w.each(e,function(e,t){"@imports"!==e&&(r&&(t=t.replace("!important","").trim()+" !important"),n+=e+":"+t+";")}),n},removeRuleByMatchingSelector:function(e,t){var r=TVE.getActiveStylesheet().key;if(!this[r][e]||!t)return this;for(var n=0,i=this[r][e].cssRules[n];i;)i.selectorText.match(t)?this[r][e].deleteRule(n):n++,i=this[r][e].cssRules[n]},reorderMediaRules:function(){var a=this,o=TVE.getActiveStylesheet().key;jQuery.each(TVE.main.responsive,function(e,t){var r=a.media_rule(t.media),n=function(e){for(var t=0;t<TVE.stylesheet.cssRules.length;t++)if(TVE.stylesheet.cssRules[t]===e)return t;return null}(r);if(r){var i=r.cssText;delete a[o][t.media],TVE.stylesheet.deleteRule(n),a.media_rule(t.media,function(){for(var e=0,t=0;t<TVE.stylesheet.cssRules.length;t++)TVE.stylesheet.cssRules[t].type===CSSRule.IMPORT_RULE&&e++;return e}()+t.rule_index,i)}})},get_used_css_variables:function(){for(var e=TVE.getActiveStylesheet().sheet.cssRules,t=[],r=0;r<e.length;r++){var n=e[r];if(n.type===CSSRule.MEDIA_RULE&&0<n.cssRules.length)for(var i=0;i<n.cssRules.length;i++){var a=n.cssRules[i].cssText.match(/--tcb-(color|gradient)-[0-9a-zA-Z]*/g),o=n.cssRules[i].selectorText.replace(":hover","").replace(".tve-state-hover","");if(a&&0<TVE.inner_$(o).length)for(var s=0;s<a.length;s++){var l=TVE.getRawCssVariableName(a[s]);-1===t.indexOf(l)&&t.push(l)}}}return t},getLocalVariables:function(){for(var e=TVE.CSS_Rule_Cache.media_rule(TVE.main.responsive.desktop.media).cssRules,t={},r=0;r<e.length;r++)if(e[r].cssText.includes("--tcb-local")&&0!==TVE.inner_$(R.getRealSelector(e[r])).length){t[e[r].selectorText]={};for(var n=e[r].style,i=n.length,a={},o=0;o<i;o++){var s=n.item(o);a[s]=n.getPropertyValue(s)}t[e[r].selectorText]=a}return t},generate_hover_state_css:function(e){if(-1===e.selectorText.indexOf(":hover"))return null;var t=e.selectorText.split(":hover").join(".tve-state-hover");return e.cssText.replace(e.selectorText,t)},getSelectorForCss:function(i){var r=this,a={},o="string"==typeof i;function n(e,t){var r=0<arguments.length&&void 0!==e?e:[],n=1<arguments.length&&void 0!==t?t:"";w.each(r,function(e,t){(o&&t.cssText.includes(i)||!o&&i.exec(t.cssText))&&-1===a[n].indexOf(t.selectorText)&&a[n].push(t.selectorText),o||(i.lastIndex=0)})}w.each(TVE.main.responsive,function(e,t){a[t.media]=[],n(r.media_rule(t.media).cssRules,t.media),TVE.USE_GLOBALSHEET=!0,n(r.media_rule(t.media).cssRules,t.media),TVE.USE_GLOBALSHEET=!1});for(var e=[],t=TVE.stylesheet.cssRules.length,s=0;s<t;s++){var l=TVE.stylesheet.cssRules[s];l.type===CSSRule.STYLE_RULE&&e.push(l)}return n(e,TVE.main.responsive.desktop.media),a},getCssForSelector:function(i,e,t){var r=this,a=!(1<arguments.length&&void 0!==e)||e,o=2<arguments.length&&void 0!==t?t:null,s={"@imports":[]},l=this.getImports(),c="string"==typeof i,d={};return w.each(TVE.main.responsive,function(e,n){s[n.media]={},w.each(r.media_rule(n.media).cssRules,function(e,t){if(c&&t.selectorText.includes(i)||!c&&i.exec(t.selectorText)){var r=function(t){var e=t.cssText.replace(/[^{]+{([^}]+?)}/,"$1"),r={},n=e.match(/(^|\s|;)([\w-]+):/g);return n&&n.map(function(e){return e.trim().replace(":","")}).forEach(function(e){return r[e]=t.style.getPropertyValue(e)+("important"===t.style.getPropertyPriority(e)?" !important":"")}),r}(t);r["font-family"]&&function(t){void 0===d[t]&&(d[t]=!0,l.some(function(e){if(e.includes(t))return s["@imports"].push(e),!0}))}(r["font-family"].replace("!important","").trim().replace(/ /g,"+").replace(/['"]/g,"")),"function"==typeof o?o(s,n.media,r,t):a?s[n.media][t.selectorText]=_objectSpread({},s[n.media][t.selectorText]||{},{},r):s[n.media]=r}c||(i.lastIndex=0)})}),s},getRulesForSelector:function(r,e){var n=this,t=1<arguments.length&&void 0!==e?e:"_ALL",i=TVE._.isRegExp(r),a=[];return(t=t&&"_ALL"!==t?Array.isArray(t)?t:[t]:TVE.main.all_media()).forEach(function(e){var t=n.media_rule(e);w.each(t.cssRules,function(e,t){!function(e){var t;return i?(t=r.exec(e.selectorText),r.lastIndex=0):t=e.selectorText.includes(r),t}(t)||a.push(t)})}),a},removePropertiesFromRulesByKeyword:function(o){return w.each(TVE.main.responsive,function(e,t){var r=TVE.CSS_Rule_Cache.media_rule(t.media);w.each(r.cssRules,function(e,t){if(t.cssText.includes(o))for(var r=t.style.length,n=0;n<r;n++){var i=t.style.item(n),a=t.style.getPropertyValue(i);(i.includes(o)||a.includes(o))&&t.style.removeProperty(i)}})}),[]},getImportCss:function(t){var r=null;return TVE._.some(TVE.getActiveStylesheet().sheet.cssRules,function(e){if(e.type===CSSRule.IMPORT_RULE&&e.cssText.includes(t.replace(/ /g,"+").replace(/['"]/g,"")))return r=e.cssText,!0}),r},copyCssRule:function(e,t,r){var n=2<arguments.length&&void 0!==r&&r,i=e.parentRule,a=e.cssText.split("{");a.shift(),a.unshift(t);var o=a.join("{"),s=i.style_by_selector(t,!1);s?_.mapObject(TVE.CSS_Rule_Cache.cssToObject(o),function(e,t){var r=e.includes("important")?"important":"";e=e.replace("!important","").replace("! important","").trim(),s.setProperty(t,e,r)}):i.insertRule(o,i.cssRules.length),n&&i.deleteRule(i.rule_index_by_selector(e.selectorText))}},n.remove_element_overlay=function(){TVE.overlaySensor&&TVE.overlaySensor.disconnect(),delete TVE.overlaySensor,w(TVE.apply_filters("tcb.remove_overlay_selector",".tve-element-mask")).remove()},n.body_overlay=function(e){if(e=void 0===e?{}:e,!w(".tve-background-overlay").length){var t=w('<div class="tve-background-overlay"></div>').css(e);TVE.inner.$body.append(t)}},n.remove_body_overlay=function(){w(".tve-background-overlay").remove()},n.fetchGoogleFonts=function(){var e,t=TVE.CSS_Rule_Cache.getImports(!0);if(!t.length||TVE.fetchedFonts&&TVE.fetchedFonts.length===t.length)return Promise.resolve();function r(e){console.info("Failed to fetch",e)}return TVE.fetchedFonts||(TVE.fetchedFonts=[]),t.forEach(function(e){var t=TVE.getUrlParam(e,"family");TVE.fetchedFonts&&TVE.fetchedFonts.some(function(e){return e.includes(t)})||TVE.fetchedFonts.push(t)}),e="https://fonts.googleapis.com/css?family=".concat(TVE.fetchedFonts.join("|")),Promise.resolve(fetch(e).then(function(e){return e.text()},r).then(function(e){return e}))},n.base64ToBlob=function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"image/jpeg",r=atob(e.split(",")[1]),n=new ArrayBuffer(r.length),i=new Uint8Array(n),a=0;a<r.length;a++)i[a]=r.charCodeAt(a);return new Blob([n],{type:t})},t.exports=n},"jquery-plugins.js":function(e,t,r){var n=r("../../../common/jquery-plugins");jQuery.fn.extend(_objectSpread({tve_social:function(){var t=this,r=this.hasClass("thrv_social_default")?"default":"custom";return{getRequiredSDKs:function(){var e=[];return"default"==r&&t.find(".tve_s_item").each(function(){e.push(e[this.getAttribute("data-s")])}),e}}}},n))},"landing-fonts.js":function(e,t,r){var i,n;i=jQuery,n={$main_menu:null,addToGlobals:function(e,t,r){TVE.CONST.tve_globals.landing_fonts[e]=TVE.CONST.tve_globals.landing_fonts[e]||{},TVE.CONST.tve_globals.landing_fonts[e][t]=r},getSelectorMenu:function(e){return this.$main_menu?this.$main_menu.find('ul.tve_menu[data-selector="'+e+'"]'):null},fontUsed:function(r){if(!TVE.CONST.tve_globals.landing_fonts)return!1;var n=!1;return i.each(TVE.CONST.tve_globals.landing_fonts,function(e,t){t.css_class!==r||(n=!0)}),n}},t.exports=n},"selection-manager.js":function(e,t,r){var s;s=jQuery,t.exports={selectors:r("./selectors"),$root:null,is_disabled:function(){return TVE.Editor_Page.is_disabled()&&!this.$root[0].querySelector(".canvas-mode")},add_icons:function(){var t=this;s(document).on("mousedown.tcb",this.click_blur.bind(this)).on("keyup.tcb",this.keyup_blur.bind(this)).on("mouseleave.tcb",".tcb-action-icons",function(e){TVE.state()===TVE.STATE_EDIT||e.relatedTarget&&"path"===e.relatedTarget.tagName.toLowerCase()||t.hide_icons()})},hide_icons:function(){return TVE.ElementIcons.hide_icons(),this},hide_edit_icons:function(){return TVE.ElementEditIcons.hide_icons(),this},hide_all_icons:function(){return this.hide_icons().hide_edit_icons(),this},show_icons:function(e){return TVE.ElementIcons.show_icons(e),this},show_edit_icons:function(e){return TVE.ElementEditIcons.show_icons(e),this},init:function(e){this.add_icons(),this.$root=e;var t=this.selectors.get("editable");e.off("mousedown.tcb click.tcb").on("mousedown.tcb",this.prevent_focus.bind(this)).on("click.tcb",t,this.element_click.bind(this)),this.refreshMouseoverEvents()},blur:function(e,t){if(!this.is_disabled()){TVE.clearUpdateTimeout();var r=s(".edit_mode");TVE.froala.editor&&(t&&t.prevent_selection_clear||requestAnimationFrame(function(){TVE.froala.has_selection()&&TVE.froala.editor.selection.clear()}),TVE.froala.editor.popups.hideAll()),r.removeClass("edit_mode"),(e=void 0===e||e)&&this.hide_all_icons(),TVE.main.clear_focus(),TVE.do_action("tcb.focus.clear",r)}},keyup_blur:function(e){if(27===e.which&&!TVE.prevent_blur){if(!TVE.ActiveElement&&TVE.main.EditMode.in_edit())return TVE.main.EditMode.exit();document.activeElement&&document.activeElement.blur(),TVE.Editor_Page.blur()}},click_blur:function(e){var t=s(e.target);return!!(TVE.prevent_blur||"HTML"===e.target.tagName&&e.clientX>=document.documentElement.offsetWidth||t.closest(".edit_mode").length||e.target.classList.contains("no-blur")||t.closest(".tve-froala").length||t.closest(".no-blur").length||t.closest(this.selectors.get("editable")).not(".tve_lp").closest(TVE.Editor_Page.editor).length||e.target.classList.contains("ui-resizable-handle"))||!1!==TVE.apply_filters("tcb.click_blur",!0,t)&&(TVE.Editor_Page.blur(),!0)},element_click:function(e,t){TVE.do_action("tcb.element.click",e,t);var r=s(e.target);if(r.is(TVE.TEXT_ALL)&&!e.target.closest(".thrv-typography")||r.closest(TVE.TEXT_EDITABLE_BY_ELEM).length)return!1;var n=TVE.apply_filters("tcb.selection.element",s(e.currentTarget),e),i=!(!t||!t.emulate),a=TVE.froala.editor&&TVE.froala.editor.core.hasFocus();if(!i&&a&&(TVE.Editor_Page.GLOBAL_PREVENT_FOCUS||window.getSelection&&window.getSelection().toString()))return!1;if(e.target.classList.contains("ui-resizable-handle")||n.hasClass("symbol-edit-mode")&&!n.is(".thrv_header, .thrv_footer"))return!1;if(!this.allow_state_selection(n))return!0;if(e.target.classList.contains("tcb-click"))return!0;var o=n.children(".tcb-inline-placeholder-action");return!(o.length&&o[0]!==e.target&&!s.contains(o[0],e.target)||(e.preventDefault(),(!n.is(this.selectors.get("not_editable"))||(n=n.parents(".thrv_wrapper").not(this.selectors.get("not_editable")).first()).length)&&(TVE.apply_filters("tcb.element.editable",!0,n)&&TVE.Editor_Page.focus_element(n,e,t),1)))},prevent_focus:function(e){var t=s(e.target);return!!t.is(".post-password-form input")||(t.is("input, textarea, select")&&e.preventDefault(),!1!==TVE.apply_filters("tcb.prevent_focus",!0)&&void 0)},mouseleave:function(e){this.is_disabled()||e.relatedTarget&&e.relatedTarget.closest(".".concat(TVE.ElementIcons.className,", .tcb-add-block-below"))||(this.hide_icons(),TVE.do_action("tcb.element.mouseleave",e))},mouseover:function(e){if(this.is_disabled())return!1;var t=s(e.currentTarget);return TVE.do_action("tcb.element.before.mouseover",e,t),!this.allow_state_selection(t)||!!t.is(this.selectors.get("no_highlight"))||!e.target.classList.contains("ui-resizable-handle")&&(TVE.state()!==TVE.STATE_EDIT||!t.hasClass("edit_mode"))&&(this.hide_icons(),this.show_icons(t),t.tcbHasClass("thrv-inline-text")||(TVE.main.EditMode.in_edit()&&!t.is(TVE.main.EditMode.element())&&t.closest(TVE.main.EditMode.element()).trigger("mouseenter"),e.stopPropagation()),void TVE.do_action("tcb.element.mouseover",e,t))},allow_state_selection:function(e){if(TVE.state_manager.is_default()||TVE.state_manager.is_jump()||TVE.state_manager.is_expanded())return!0;var t=TVE._type(e);return TVE.Elements[t]&&TVE.Elements[t][TVE.state_manager.get_state()]},select_element:function(e){var t=s.Deferred(),r=e.hasClass("tve-state-hover");return e.addClass("tve-state-hover"),e.one("element.selected",function(){r||e.removeClass("tve-state-hover"),e.trigger("mouseleave"),setTimeout(function(){t.resolve()},20)}),e.trigger("click",{emulate:!0}),t.promise()},refreshMouseoverEvents:function(){this.$root.off("mouseover.tcb mouseleave.tcb").on("mouseover.tcb",this.selectors.get("mouseover"),this.mouseover.bind(this)).on("mouseleave.tcb",this.selectors.get("mouseover"),this.mouseleave.bind(this))}}},"selectors.js":function(e,t,r){t.exports={editable:".thrv_wrapper:not(.thrv_text_element, .thrv_heading), .tve_ts_o span, span.tve_ts_copy-aut, .tve_ts_copy-aut span .tve_btnLink span, .tve_ct_title, .thrv_tw_qs_button span span, .tve_editable, .thrv-inline-text, .thrv-advanced-inline-text, .thrv-styled-list-item, .sub-menu, .tcb-editor-jump-mode .thrv_toggle_title, .toggle-edit-mode .thrv_toggle_title, .canvas-mode .tve_lg_input_container, .tcb-col, .tve-cf-item, .tve-form-item, .tve-cf-submit, .tve-form-submit, .tve-cf-item label, .tve-form-item label, .tve-cf-item .tve-cf-input, .tve-form-item .tve-form-input, .thrv_header, .thrv_footer, .thrv_text_element a, .tcb-styled-list a, .tcb-numbered-list a, .thrv-sf-submit, .thrv-sf-input, .canvas-mode .tve_lg_radio_wrapper, .tve-login-form-item, .tve-login-form-item .tve-login-form-input, .canvas-mode .tve-lg-dropdown-list, .tve-cd-editable,.canvas-mode .tve-lg-dropdown-option, .tcb-pricing-table-box-container, .tve-form-state, .tve_responsive_video_container, .tve_audio_container, .canvas-mode .tve-new-checkbox:not(.tcb-lg-consent) .tve_lg_checkbox_wrapper, .thrive_author_links, .tve_s_item, .tve-input-option-text a, .tve-captcha-container",not_editable:".tcb-not-editable, .tcb-not-editable *, .thrive_leads_shortcode *, .thrive-shortcode-html:not(.thrive-shortcode-html-editable), .thrive-shortcode-html:not(.thrive-shortcode-html-editable) *, .tve_custom_html_placeholder, .tve_custom_html_placeholder *, .thrv_custom_html_shortcode *, .thrv_post_grid *, .tve_no_edit, .tve_more_tag, .table_placeholder,  .table_placeholder *, .image_placeholder, .image_placeholder *, .borderless_placeholder, .borderless_placeholder *, .ui-datepicker-header *, .tve_wp_shortcode *, #tve_mce_holder *, .code_placeholder, .thrv_widget *, .tve_ts_o img,.tve-m-trigger .thrv_icon,.tcb-post-list:not(.tcb-compact-edit-mode) *,body.tve_lp, .tve-prevent-content-edit, .tve-prevent-content-edit *",mouseover:".thrv_wrapper:not(.canvas-mode .thrv-columns, .thrv_toggle_content):not(.tve-m-trigger .thrv_icon), .tve_clearfix li,.sub-menu,.thrv_feature_grid .tve_gri > .tve_image,.tve_element_hover, p.tve_more_tag, .tcb-col, .tve-cd-editable, .tve_editable, .canvas-mode .tve_lg_input_container, .thrv-styled-list-item, .tve-cf-item, .tve-form-item, .tve-cf-submit, .tve-form-submit, .tve-cf-item label, .tve-form-item label, .tve-cf-input, .tve-form-input, .tve-login-form-input, .tve-login-form-input, .thrv_wrapper.thrv_text_element a, .tcb-styled-list a, .tcb-numbered-list a, .tve-input-option-text a, .toggle-edit-mode .thrv_toggle_title, .tcb-editor-jump-mode .thrv_toggle_title, .thrv-sf-submit, .thrv-sf-input, .canvas-mode .tve_lg_radio_wrapper, .canvas-mode .tve-lg-dropdown-list, .canvas-mode .tve-new-checkbox:not(.tcb-lg-consent) .tve_lg_checkbox_wrapper,  .tve-login-form-item, .tve-form-item label, .toggle-edit-mode .thrv_toggle_content, .tve_responsive_video_container, .tve_audio_container, .tve-captcha-container",no_highlight:".thrive-shortcode-html, .thrive_leads_shortcode *, .tcb-no-highlight,.thrv_lead_generation .thrv-columns,.thrv_lead_generation:not(.canvas-mode) .tcb-col,.thrv-contact-form .thrv-columns, .tve-prevent-content-edit, .tve-prevent-content-edit *",no_icons:".tve_table_cell, .thrv_tw_quote p, .tve_p_lb_control, .tve_editor_main_content, .tve-cd-editable,.tve_lp_content, .tve_no_icons, .thrv_widget_menu .tve_menu_title, .tve_lg_input_container:not(.tve_lg_file) .thrv_icon,.thrive-shortcode-html, .thrive-shortcode-html *, .thrv-inline-text, .tve_editable,.tve_lead_generated_inputs_container .thrv-columns,.canvas-mode, .tve-post-options-element, .post-wrapper, .tcb-pagination-button, .tcb-pagination-number,.tcb-pagination-label, .tcb-pagination-navigation-container, .tcb-pagination-load-more-button, .thrv_text_element a, .tcb-styled-list a, .tcb-numbered-list a, .thrv_toggle_content, .tve_tab_content, .thrv-sf-input, .thrv-sf-submit, .thrv_lead_generation_container .thrv_text_element[data-label-for], .tve-login-form-input:not(.tve_lg_file) .thrv_icon, .tve_responsive_video_container, .tve_audio_container, .tve-input-option-text a",no_clone:".tve_gri .image_placeholder, .table_placeholder, .tcb-no-clone, .tve_no_duplicate, .tve_more_tag, .tcb-col, .thrv-inline-text, .thrv-advanced-inline-text, .thrv_header, .thrv_footer,.tve-cf-item, .tve-cf-submit, .tve-form-submit, .tcb-pagination, .tve-lg-dropdown-list, .tve-form-button, .tve-cd-editable,.tcb-lg-consent .tve_lg_checkbox_wrapper, .thrv_lead_generation:not(.tve-lead-generation-template) .tve_lg_input_container, .tve_s_item, .tve-captcha-container",no_delete:".tcb-no-delete, .thrv-inline-text, .thrv-advanced-inline-text,.tve-cf-item, .tve-cf-submit, .tve-form-submit, .tve-form-button, .tve-cd-editable,.thrv_lead_generation:not(.tve-lead-generation-template) .tve_lg_input_container, .tve-captcha-container ",no_save:".tcb-no-save, .thrv_symbol, .thrv-inline-text, .tcb-col, .tve_lg_input_container, .thrv_custom_html_shortcode, .tve_wp_shortcode, .tve_more_tag,.thrive_leads_shortcode ,.thrive-quiz-builder-shortcode, .thrv_tvo_capture_testimonials, .thrv_tvo_display_testimonials, .thrive_ultimatum_shortcode, .tve-cd-editable.thrv-comments, .thrv-styled-list-item, .tcb-numbered-list-number, .tve_scT, .tve_scT > ul *, .thrv_ct_symbol, .thrv_toggle_title, .tve-cf-item, .tve-cf-submit, .thrv-content-block *,.tcb-pagination, .tve_image_caption, .tve_tab_title_item, .thrv_toggle_item, .tcb-featured-list, .tve_lg_radio_wrapper, .tve-lg-dropdown-option, .tve-lg-dropdown-list, .thrv_lead_generation_container .thrv_text_element, .tve_responsive_video_container, .tve_audio_container, .tve-form-button, .tve_lg_checkbox_wrapper, .tve_s_item, .tve-captcha-container",no_lock:".thrv_wrapper, .thrv-styled-list-item, .thrv-inline-text, .tcb-col, .tve_more_tag, .tve_scT, .tve_scT *,.tve_lg_input_container",no_unlock:".thrv_wrapper, .thrv-styled-list-item, .thrv-inline-text, .tcb-col, .tve_more_tag, .tve_scT, .tve_scT *,.tve_lg_input_container",no_expand:":not(.tve_tab_title_item:not(.tve_tS), .tve-toc-expandable.tve-toc-edit.tve-toc-collapsed, .thrv_toggle_item:has(.thrv_toggle_title:not(.tve-state-expanded)), .tve-new-dropdown:not(.tve-state-expanded) )",no_collapse:":not(.thrv_toggle_item:has(.thrv_toggle_title.tve-state-expanded), .tve-new-dropdown.tve-state-expanded, .tve-toc-expandable.tve-toc-edit:not(.tve-toc-collapsed))",elements:".thrv_wrapper,.tcb-col,.tve_lg_input_container,.tve-cf-item,.tve-cf-submit,.tve-login-form-item",no_title:".tcb-no-title,.thrv_widget_menu li,.tcb-mega-std a,.thrv_text_element a,li a",no_custom_action:":not(.tve_image_caption)",no_custom_left_action:":not(.tve-toc:not(.tve-dynamic-toc,.tve-toc-edit))",get:function(e){var t="",r=TVE.apply_filters("wrapper_selector","");return void 0!==this[e]&&(t=TVE.apply_filters("selectors_"+e,this[e])),r&&-1===t.indexOf(r)&&(t=r+" "+t.split(",").join(","+r+" ").replace(/\s\s+/g," ")),t+=(t?",":"")+".tcb-selector-"+e+",.tcb-child-selector-"+e+" *"}}},table:{"cell-manager.js":function(e,t,r){var s=r("./grid"),i=[],l=r("../../../../main/libs/element-snapshot");!function(o){o.fn.extend({tve_rows:function(e){return 0===arguments.length?parseInt(this.attr("data-rows")):this.attr("data-rows",e)},tve_cols:function(e){return 0===arguments.length?parseInt(this.attr("data-cols")):this.attr("data-cols",e)}});var e={table:null,$el:null,buttons:null,drag:{mouse_down:!1,start_element:null,current_element:null,is_head:!1},mouse_move_cells:"> thead > tr > th:not(.tve_merge_disabled), > tbody > tr > td:not(.tve_merge_disabled)",head_cells:"> thead > tr > th",body_cells:"> tbody > tr > td",head:null,body:null,grid:null,init:function(e){var t=!0;void 0!==e&&(t=!1,i=[],this.table=e),TVE.ElementEditIcons.hide_icons(),this.head=this.table.find("> thead"),this.body=this.table.find("> tbody"),this.$el=this.table.parent().addClass("canvas-mode").tve_overlay(),this.table.addClass("tve_merge_cells").find("th, th *, td, td *").disableSelection(),this.buttons||(this.buttons=o("#tcb-table-panel")),TVE.Editor_Page.disable(),TVE.Editor_Page.GLOBAL_PREVENT_FOCUS=!0,TVE.main.switch_menu_to("custom","table"),TVE.main.toggle_navigation(!0),this.showActionButtons(),this.bind(),this.table.tve_rows(0);var r=this.__head_grid=new s(this.head,!0),n=this.__body_grid=new s(this.body,!0);(isNaN(this.table.tve_cols())||isNaN(this.table.tve_rows()))&&(this.table.tve_rows(r.getRowCount()+n.getRowCount()),this.table.tve_cols(Math.max(r.getColCount(),n.getColCount()))),t&&i.length?(o.each(i,function(e){0===e?this.cell.trigger("mousedown"):this.cell.trigger("mousemove")}),i[i.length-1].cell.trigger("mouseup")):this.enableButtons(this.table.data("selected-cells")||[])},showActionButtons:function(){this.buttons.show().find(".tcb-table-btn").off("click").on("click",o.proxy(this.onActionClick,this)).on("mousedown",function(){return!1}),this.positionButtons()},positionButtons:function(){if(TVE.SKIP_CSS_STATE)this.buttons[0].style.display="none";else{this.buttons[0].style.display="block";var e=this.$el.offset(),t=TVE.Editor_Page.$body.offsetParent().offset(),r=e.top-t.top;this.buttons.css({left:e.left-t.left+"px",top:r+"px",width:this.$el.outerWidth()}).find(".below-element").css("top",this.$el.outerHeight()+"px"),this.buttons.find(".above-element").css("top",r<25?-1*(20+r)+"px":"auto")}},saveSelection:function(){i=this.table.data("selected-cells")||[]},clearSelection:function(){i=[]},onActionClick:function(e){var t=e.currentTarget.getAttribute("data-fn");if(this[t])return this[t](e.currentTarget.getAttribute("data-arg")||null)},bind:function(){this.table.off().on("mousedown",this.head_cells+", "+this.body_cells,jQuery.proxy(this.mouseDown,this)),this.table.on("mousemove",this.mouse_move_cells,jQuery.proxy(this.mouseOver,this)),this.table.on("mouseup",this.head_cells+", "+this.body_cells,jQuery.proxy(this.mouseUp,this)),o(TVE.Editor_Page).bind("editor.onenable",jQuery.proxy(this.cancel,this))},mouseDown:function(e){var t=o(e.currentTarget);return this.reset(),this.drag.mouse_down=!0,this.drag.start_element=t.addClass("tve_merge_selected"),t.is("td")?(this.table.find(this.head_cells).addClass("tve_merge_disabled"),this.drag.is_head=!1):(this.table.find(this.body_cells).addClass("tve_merge_disabled"),this.drag.is_head=!0),this.grid=new s(this.drag.is_head?this.head:this.body,!1),this.grid.setStartCell(this.drag.start_element),!1},mouseUp:function(e){this.drag.mouse_down=!1,!this.table.data("selected-cells")&&this.grid&&this.table.data("selected-cells",this.grid.getRange(this.drag.start_element,o(e.currentTarget))),this.table.find(".tve_merge_disabled").removeClass("tve_merge_disabled"),this.enableButtons(this.table.data("selected-cells"))},enableButtons:function(e){if(this.buttons.find(".m-disable").prop("disabled",!0),this.$el.addClass("edit_mode").find(".edit_mode").removeClass("edit_mode"),TVE.main.switch_menu_to("custom","table"),e&&!(e.length<1))if(1<e.length)this.buttons.find(".m-enable-more").prop("disabled",!1);else{this.buttons.find(".m-enable-one").prop("disabled",!1);var t=2<parseInt(e[0].cell.attr("rowspan")||1)+parseInt(e[0].cell.attr("colspan")||1);this.buttons.find('[data-fn="split"]').prop("disabled",!t);var r=e[0].cell;this.select_element(r),r.__col=(this.head.find("> tr").length?this.__head_grid:this.__body_grid).getCell(0,e[0].real_col),r.__row=r.parent().children("td,th").first(),0!==e[0].real_col&&this.__body_grid.canMoveColumn(e[0],-1)&&this.__head_grid.canMoveColumn(e[0],-1)||this.buttons.find(".move-left").prop("disabled",!0),e[0].real_col+e[0].colspan!==this.grid.grid[0].length&&this.__body_grid.canMoveColumn(e[0],1)&&this.__head_grid.canMoveColumn(e[0],1)||this.buttons.find(".move-right").prop("disabled",!0)}},select_element:function(e){this.$el.removeClass("edit_mode").find("td,th").removeClass("edit_mode"),TVE.Editor_Page.focus_element(e)},mouseOver:function(e){if(!this.drag.mouse_down)return!1;this.table.find("td,th").removeClass("tve_merge_selected"),this.drag.current_element=o(e.currentTarget);var t=this.grid.getRange(this.drag.start_element,this.drag.current_element);this.table.data("selected-cells",t),o.each(t,function(){this.cell.addClass("tve_merge_selected").removeClass("edit_mode")})},reset:function(e){(e=void 0!==e&&e)||this.table.find(".tve_merge_selected").removeClass("tve_merge_selected"),this.table.find(".tve_merge_disabled").removeClass("tve_merge_disabled"),this.table.data("selected-cells",null).data("selected-colspan",null).data("selected-rowspan",null),this.drag={mouse_down:!1,start_element:null,current_element:null,is_head:!1}},cancel:function(e){return e=void 0!==e&&e,this.buttons.hide(),this.reset(e),this.table.removeClass("tve_merge_cells tve_table_light").off().find("th, th *, td, td *").enableSelection(),TVE.remove_element_overlay(),this.$el.removeClass("canvas-mode"),o(TVE.Editor_Page).unbind("editor.onenable"),TVE.Editor_Page.enable(),delete TVE.Editor_Page.GLOBAL_PREVENT_FOCUS,this.select_element(this.$el),TVE.main.toggle_navigation(!1),this},merge:function(){var e=this;if(this.table.data("selected-cells")){var r=!0,n=o(),i="",a=o();jQuery.each(this.table.data("selected-cells"),function(e){if(0===e)n=this.cell;else{a=a.add(this.cell);var t=this.cell.html();t.includes("tcb-replaceable-placeholder")||(i+=t,r=!1)}}),this.clearSelection(),this.cancel(),l(function(){i=o(i),n.html().includes("tcb-replaceable-placeholder")&&!r&&n.empty(),n.attr({rowspan:e.grid.selection_rowspan,colspan:e.grid.selection_colspan}).append(i),TVE.drag.bind_draggable(i),(1<e.grid.selection_rowspan||1<e.grid.selection_colspan)&&(TVE.Components.table.disable_sort(),e.table.removeClass("tve_make_sortable")),a.remove()},this.table),this.init()}},split:function(){if(this.table.data("selected-cells")){var e=this.table.data("selected-cells"),t=this.grid;this.clearSelection(),this.cancel(),l(function(){jQuery.each(e,function(){if(1==this.colspan&&1==this.rowspan)return!0;t.split(this)})},this.table),this.init()}},addRow:function(){var e,t=this,r=this.table.tve_rows(),n=this.table.tve_cols();e=new s(0===r?this.head:this.body),this.saveSelection(),this.cancel(),l(function(){t.table.tve_rows(r+1),0!==n&&(e.insertRow(e.grid.length-1,"after",n),t.alternateColors())},this.table),this.init()},addColumn:function(){var e=this,t=this.table.tve_rows(),r=this.table.tve_cols();this.saveSelection(),this.cancel(),l(function(){e.table.tve_cols(r+1),0!==t&&(e.table.find("> thead > tr").length&&new s(e.head).insertColumn(r-1,"after",e.table.find("> thead > tr").length),e.table.find("> tbody > tr").length&&new s(e.body).insertColumn(r-1,"after",t-e.table.find("> thead > tr").length))},this.table),this.init()},removeColumn:function(){var r=this;if(this.drag.start_element){var n=this.drag.start_element,i=this.drag.is_head;this.clearSelection(),this.cancel(),l(function(){var e=r.grid.selection_start.col,t=r.grid.removeColumn(n);i?new s(r.body).removeColumn(null,e,t):new s(r.head).removeColumn(null,e,t),r.table.tve_cols(r.table.tve_cols()-t)},this.table),this.init()}},removeRow:function(){var t=this;if(this.drag.start_element){var r=this.drag.start_element,n=new s(r.parent().parent());this.cancel(),this.clearSelection(),l(function(){var e=n.removeRow(r);t.table.tve_rows(t.table.tve_rows()-e),r.is("th")&&(TVE.Components.table.disable_sort(),t.table.removeClass("tve_make_sortable")),t.alternateColors()},this.table),this.init()}},insertColumn:function(t,e){var r=this,n=1<arguments.length&&void 0!==e&&e;this.drag.start_element&&(this.saveSelection(),this.cancel(),l(function(){var e=r.grid["before"===t?"selection_start":"selection_end"].col;r.table.tve_cols(r.table.tve_cols()+1),0!==r.table.tve_rows()&&(r.table.find("> thead > tr").length&&new s(r.table.find("> thead")).insertColumn(e,t,r.table.find("> thead > tr").length,n),r.table.find("> tbody > tr").length&&new s(r.table.find("> tbody")).insertColumn(e,t,r.table.tve_rows()-r.table.find("> thead > tr").length,n))},this.table),this.init())},insertRow:function(e,t){var r=this,n=1<arguments.length&&void 0!==t&&t;if(this.drag.start_element){var i=this.grid["before"===e?"selection_start":"selection_end"];this.saveSelection(),this.cancel(),l(function(){r.table.tve_rows(r.table.tve_rows()+1),0!==r.table.tve_cols()&&r.grid.insertRow(i.row,e,r.table.tve_cols(),n)},this.table),this.init()}},cloneColumn:function(e){var n=this;this.drag.start_element&&(this.saveSelection(),this.cancel(),l(function(){var e=n.grid.selection_start,t=n.grid.grid[e.row][e.col].colspan;if(n.table.tve_cols(n.table.tve_cols()+t),0!==n.table.tve_rows())for(var r=t-1;0<=r;r--)n.table.find("> thead > tr").length&&new s(n.table.find("> thead")).cloneColumn(e.col+r,e.col+t-1,n.table.find("> thead > tr").length,e.col),n.table.find("> tbody > tr").length&&new s(n.table.find("> tbody")).cloneColumn(e.col+r,e.col+t-1,n.table.tve_rows()-n.table.find("> thead > tr").length,e.col)},this.table),this.init())},cloneRow:function(e){var r=this;if(this.drag.start_element){var n=this.grid.selection_start;this.saveSelection(),this.cancel(),l(function(){var e=r.grid.grid[n.row][n.col].rowspan;r.table.tve_rows(r.table.tve_rows()+e);for(var t=e-1;0<=t;t--)0!==r.table.tve_cols()&&r.grid.cloneRow(n.row+t,n.row+e-1,r.table.tve_cols(),n.row)},this.table),this.init()}},_move:function(e){var t,r,n=this.table.data("selected-cells")[0],i=new s(this.head),a=new s(this.body);return this.saveSelection(),this.cancel(),l(function(){t=i.moveColumn(n,e),r=a.moveColumn(n,e)},this.table),this.init(),(this.drag.is_head?t:r).trigger("mousedown").trigger("mousemove").trigger("mouseup"),!1},moveLeft:function(){this._move(-1)},moveRight:function(){this._move(1)},alternateColors:function(){if(this.table.hasClass("tve_table_alternating")){var n=this.body.find("tr.tve_odd").first().attr("data-tve-custom-colour"),i=this.body.find("tr.tve_even").first().attr("data-tve-custom-colour");this.body.find("tr").each(function(e,t){var r=o(t);r.removeClass("tve_odd tve_even"),r.addClass(e%2==0?"tve_odd":"tve_even"),n&&e%2==0&&r.attr("data-tve-custom-colour",n),i&&e%2!=0&&r.attr("data-tve-custom-colour",i)})}}};t.exports=e}(jQuery)},"editor.js":function(e,t,r){var n=r("./cell-manager");function i(e,t){for(var r="",n="th"===e?"Header":"Cell",i=0;i<t;i++)r+="<"+e+' class="tve_table_cell tcb-parent-placeholder-empty"><div class="tcb-replaceable-placeholder">'+n+"</div></"+e+">";return'<tr class="tve_table_row">'+r+"</tr>"}function a(){n.init()}var o={cell_manager:function(e){return TVE.main.on("after_undo_redo",a),n.init(e.find("> .tve_table"))},build:function(e,t){var r='<table data-rows="'+e+'" data-cols="'+t+'" class="tve_table tcb-fixed tve_no_inner_border tve_no_border tve_table_flat">';r+="<thead>"+i("th",t)+"</thead>",r+="<tbody>";for(var n=1;n<e;n++)r+=i("td",t);return r+="</tbody></table>"},refresh:function(){n.positionButtons()},close_editor:function(){TVE.main.off("after_undo_redo",a),n.cancel()}};t.exports=o},"grid.js":function(e,t,r){function h(e){return e=e.jquery?e[0]:e,parseInt(e.getAttribute("rowspan")||1)}function u(e){return e=e.jquery?e[0]:e,parseInt(e.getAttribute("colspan")||1)}function f(e){return e?'<th class="tve_table_cell"></th>':'<td class="tve_table_cell"></td>'}function p(e,t){var r=e.clone();if(t){var n=r.is("th")?"Header":"Cell";r.addClass("tcb-parent-placeholder-empty").html('<div class="tcb-replaceable-placeholder">'+n+"</div>")}return r}function n(e,t){var s=[];e.find("> tr").each(function(o){g(this).find("> td, > th").each(function(e){var t,r,n,i,a=g(this);if(s[o])for(;s[o][e];)e++;for(n=h(this),i=u(this),r=o;r<o+n;r++)for(s[r]||(s[r]=[]),t=e;t<e+i;t++)s[r][t]={cell:a,rowspan:n,colspan:i,exists:r==o&&t==e,processed:!1,real_row:o,real_col:e}})}),this.grid=s,this.startPos=null,this.selection_colspan=1,this.selection_rowspan=1,this.container=e,this.is_head=e.is("thead"),this.selection_start={row:null,col:null},this.selection_end={row:null,col:null},void 0!==t&&t&&(e.parent().tve_rows(parseInt(e.parent().tve_rows())+this.grid.length),this.grid[0]&&this.grid[0].length&&e.parent().tve_cols(this.grid[0].length))}var g;g=jQuery,n.prototype.getRange=function(e,t){var r=this.startPos,n=this.getCellPosition(t);if(!r||!n)return g();var i,a=Math.min(r.x,n.x),o=Math.max(r.x,n.x),s=Math.min(r.y,n.y),l=Math.max(r.y,n.y),c=o,d=0,_=!1;for(d=0;i=this.grid[d++];)for(var h,u=0;h=i[u++];)h.processed=!1;do{for(_=!1,d=a;d<=c;)d+=(h=this.grid[d][s]).rowspan,h.processed||h.exists||1<h.colspan&&(s=h.real_col,_=!0,h.processed=!0);for(u=s;u<=l;)u+=(h=this.grid[a][u]).colspan,h.processed||h.exists||1<h.rowspan&&(a=h.real_row,_=!0,h.processed=!0);for(d=a;d<=c;d++)for(u=s;u<=l;u++)(h=this.grid[d][u]).exists&&!h.processed&&(1<h.colspan&&h.colspan-1+u>l&&(l=u+h.colspan-1,_=!0,h.processed=!0),1<h.rowspan&&h.rowspan-1+d>c&&(c=d+h.rowspan-1,_=!0,h.processed=!0))}while(_);var v=[];for(d=a;d<=c;d++)for(u=s;u<=l;u++)this.grid[d][u]&&this.grid[d][u].exists&&v.push(this.grid[d][u]);return this.selection_rowspan=c-a+1,this.selection_colspan=l-s+1,this.selection_start.row=a,this.selection_start.col=s,this.selection_end.row=c,this.selection_end.col=l,v},n.prototype.getCellPosition=function(e){for(var t=0,r=this.grid.length;t<r;t++)for(var n=0,i=this.grid[t].length;n<i;n++)if(this.grid[t][n].cell[0]===e[0])return{x:t,y:n};return null},n.prototype.setStartCell=function(e){this.startPos=this.getCellPosition(e)},n.prototype.split=function(e){var t=null;e.cell.attr("colspan",1).attr("rowspan",1);for(var r=1;r<e.colspan;r++)t=p(e.cell,!1),e.cell.after(t),TVE.drag.bind_draggable(t);if(1!=e.rowspan)for(var n=e.cell.parent(),i=e.real_row+1;i<e.real_row+e.rowspan;i++)if(0!=(n=n.next("tr")).find("> td, > th").length){for(var a=e.real_col-1;0<=a;a--)if(this.grid[i][a].real_row==i){for(o=0;o<e.colspan;o++)t=p(e.cell,!1),this.grid[i][a].cell.after(t),TVE.drag.bind_draggable(t);break}if(0==e.real_col||-1==a)for(o=0;o<e.colspan;o++)t=p(e.cell,!1),n.prepend(t),TVE.drag.bind_draggable(t)}else for(var o=0;o<e.colspan;o++)t=p(e.cell,!1),n.append(t),TVE.drag.bind_draggable(t)},n.prototype.removeColumn=function(e,t,r){e&&(r=u(e),t=this.getCellPosition(e).y);for(var n,i=0;n=this.grid[i++];)for(var a=t;a<t+r;a++){var o=n[a];1==o.colspan||e&&o.cell[0]===e[0]?o.cell.remove():o.real_col>=t&&o.real_col+o.colspan<=t+r?o.cell.remove():1<o.colspan?o.real_col<=t?o.real_col+o.colspan>=t+r?o.cell.attr("colspan",o.colspan-r):o.cell.attr("colspan",Math.abs(t-o.real_col)):o.cell.attr("colspan",o.real_col+o.colspan-t-r):o.cell.remove()}return r},n.prototype.removeRow=function(e){for(var t=h(e),r=this.getCellPosition(e),n=g(),i=r.x;i<=r.x+t-1;i++)for(var a=0;a<this.grid[r.x].length;a++){var o=this.grid[i][a];if(a!=r.y&&1!=h(o.cell))if(o.exists)if(h(o.cell)+i<=r.x+t);else{var s=r.x+t-i,l=p(o.cell,!1).attr("rowspan",h(o.cell)-s);o.cell.attr("rowspan",s);var c=e.parent().next(),d=r.x+t;if(0<c.length){0==c.find("> td, > th").length&&c.append(l);for(var _=o.real_col-1;0<=_;_--)if(this.grid[d][_].real_row==d){this.grid[d][_].cell.after(l);break}0!=o.real_col&&-1!=_||c.prepend(l)}}else o.cell.attr("rowspan",h(o.cell)-1),a+=u(o.cell)-1;else n=n.add(this.container.find("> tr:nth-child("+(i+1)+")"))}return n.remove(),t},n.prototype.insertColumn=function(e,t,r){for(var n=3<arguments.length&&void 0!==arguments[3]&&arguments[3],i=f(this.is_head),a=this.grid[0]&&this.grid[0].length,o=g(),s=0;s<r;s++){var l=a?this.grid[s][e]:null;if(l){var c=1,d=1;!0===n&&(c=parseInt(l.cell.attr("rowspan"))||1,d=parseInt(l.cell.attr("colspan"))||1);var _=p(l.cell,!n).attr("colspan",d).attr("rowspan",c),h=this.getRealRow(s),u=!1;if(e!=this.grid[0].length-1||"after"!=t)if(0!=e||"before"!=t)if(1<l.colspan&&("after"==t&&l.real_col+l.colspan-1>e?(l.cell.attr("colspan",l.colspan+1),u=!0):"before"==t&&l.real_col<e&&(l.cell.attr("colspan",l.colspan+1),u=!0)),u)s+=l.rowspan-1;else{var v=t;if(null===(l="after"==t?this.getLastRealCell(s,e):this.getNextRealCell(s,e))&&(l="after"==t?this.getNextRealCell(s,e):this.getLastRealCell(s,e),v="after"==t?"before":"after"),null===l){h.append(_),o=o.add(_),s=s+c-1;continue}l.cell[v](_),o=o.add(_),s=s+c-1}else h.prepend(_),o=o.add(_),s=s+c-1;else h.append(_),o=o.add(_),s=s+c-1}else h=(h=this.container.find("> tr:nth-child("+(s+1)+")")).length?h:g('<tr class="tve_table_row"></tr>').appendTo(this.container),o=o.add(g(i)),h.append(o.last())}TVE.drag.bind_draggable(o)},n.prototype.cloneColumn=function(e,t,r,n){for(var i=f(this.is_head),a=this.grid[0]&&this.grid[0].length,o=g(),s=0;s<r;s++){var l=a?this.grid[s][e]:null;if(l)if(this.grid[s][t].real_col+this.grid[s][t].colspan-1>t)t===e&&l.cell.attr("colspan",l.colspan+t-n+1);else{var c=parseInt(l.cell.attr("rowspan"))||1,d=parseInt(l.cell.attr("colspan"))||1,_=p(l.cell,!1).attr("colspan",d).attr("rowspan",c),h=this.getRealRow(s),u=!1;if(1<l.colspan&&(n===t?(l.cell.attr("colspan",l.colspan+t-n+1),u=!0):l.real_col<n&&e===n?_.attr("colspan",l.colspan-(n-l.real_col)):l.real_col!==e&&(u=!0)),e!==this.grid[0].length-1||u)if(u)s+=l.rowspan-1;else{var v="after";if(null===(l=this.getLastRealCell(s,t))&&(l=this.getNextRealCell(s,t),v="before"),null===l){h.append(_),o=o.add(_),s=s+c-1;continue}l.cell[v](_),o=o.add(_),s=s+c-1}else h.append(_),o=o.add(_),s=s+c-1}else h=(h=this.container.find("> tr:nth-child("+(s+1)+")")).length?h:g('<tr class="tve_table_row"></tr>').appendTo(this.container),o=o.add(g(i)),h.append(o.last())}TVE.drag.bind_draggable(o)},n.prototype.insertRow=function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]&&arguments[3],i=f(this.is_head),a=g('<tr class="tve_table_row"></tr>');if(-1!==e){for(var o=this.getRealRow(e),s=g(),l=0;l<r;l++){var c=this.grid[e][l],d=!1;1<c.rowspan&&("after"==t&&c.real_row+c.rowspan-1>e?(c.cell.attr("rowspan",c.rowspan+1),d=!0):"before"==t&&c.real_row<e&&(c.cell.attr("rowspan",c.rowspan+1),d=!0)),d||(s=s.add(p(this.grid[e][l].cell,!n).attr({rowspan:1,colspan:1})))}o[t](a.append(s)),TVE.Components.table.update_colors(),TVE.drag.bind_draggable(a)}else{for(var _=0;_<r;_++)a.append(g(i));this.container.append(a)}},n.prototype.cloneRow=function(e,t,r,n){var i=f(this.is_head),a=g('<tr class="tve_table_row"></tr>');if(-1!==e){for(var o=this.getRealRow(t),s=g(),l=0;l<r;l++){var c=this.grid[e][l],d=!1,_=null;if(this.grid[t][l].real_row+this.grid[t][l].rowspan-1>t)e===t&&c.cell.attr("rowspan",c.rowspan+t-n+1);else if(1<c.rowspan&&(n===t?(c.cell.attr("rowspan",c.rowspan+1),d=!0):c.real_row<n&&e===n?_=c.rowspan-(n-c.real_row):e!==c.real_row&&(d=!0)),!d){var h=_||parseInt(c.cell.attr("rowspan"))||1,u=parseInt(c.cell.attr("colspan"))||1;s=s.add(p(this.grid[e][l].cell,!1).attr({rowspan:h,colspan:u})),l=l+u-1}}o.after(a.append(s)),TVE.Components.table.update_colors(),TVE.drag.bind_draggable(a)}else{for(var v=0;v<r;v++)a.append(g(i));this.container.append(a)}},n.prototype.getRealRow=function(e){if(!this.grid[e])return g();for(var t,r=0;t=this.grid[e][r++];)if(t.real_row==e)return t.cell.parent();return this.container.find("tr:nth-child("+ ++e+")")},n.prototype.getLastRealCell=function(e,t){if(!this.grid[e])return null;for(var r=t;0<=r;r--)if(this.grid[e][r].real_row==e&&this.grid[e][r].real_col==r)return this.grid[e][r];return null},n.prototype.getNextRealCell=function(e,t){if(!this.grid[e])return null;for(var r=t,n=this.grid[e].length;r<n;r++)if(this.grid[e][r].real_row==e&&this.grid[e][r].real_col==r)return this.grid[e][r];return null},n.prototype.getRowCount=function(){return this.grid.length},n.prototype.getColCount=function(){return this.grid[0]?this.grid[0].length:0},n.prototype.getCell=function(e,t){return this.grid[e][t].cell},n.prototype.canMoveColumn=function(e,t){var n=!0,i=e.real_col,a=i+t;return 0<t&&(a+=e.colspan-1),this.grid.some(function(e){var t=e[i],r=e[a];if(r.exists!==t.exists&&r.cell[0]!==t.cell[0]&&r.colspan!==t.colspan)return!(n=!1)}),n},n.prototype.moveColumn=function(e,t){var o=e.real_col,s=o+t,l=e.real_row,c=g();return this.grid.forEach(function(e,t){var r=e[o],n=e[s];if(n.exists&&r.exists){var i=n.cell.clone(),a=r.cell.clone().removeClass("tve_merge_selected edit_mode");l===t&&(c=a),n.cell.replaceWith(a),n.cell=a,r.cell.replaceWith(i),r.cell=i}}),c},t.exports=n}}}}},main:{libs:{"element-snapshot.js":function(e,t,r){function s(e){var r={html:e.html(),cls:e.attr("class"),style:e.attr("style"),data:{}};return e.length&&e[0].dataset&&jQuery.each(e[0].dataset,function(e,t){r.data[e]=t}),r}function l(r,e){return r.length&&e&&(r.html(e.html).attr("class",e.cls).attr("style",e.style),Object.keys(r[0].dataset).forEach(function(e){return delete r[0].dataset[e]}),jQuery.each(e.data,function(e,t){r[0].dataset[e]=t})),this}t.exports=function(e,t,r){var n,i=s(t),a=e.call(void 0===r?null:r);function o(){n=s(t),TVE.UndoManager.add({undo:function(){l(t,i)},redo:function(){l(t,n)}})}!function(e){return e&&"function"==typeof e.then}(a)?o():a.then(o)}},"functions.js":function(e,t,r){var c;c=jQuery,t.exports={toFixed:function(e,t){var r=1<arguments.length&&void 0!==t?t:1;return Number(Math.round(parseFloat(e)+"e"+r)+"e-"+r)},getRealSelector:function(e,t){var r=1<arguments.length&&void 0!==t?t:[" strong",".tve-state-active",".tve-state-expanded"],n="(:hover|:active|:after|:focus|:visited|::after|:before|::before|::placeholder";r.length&&(n+="|".concat(r.join("|"))),n+=")";var i=TVE.apply_filters("tcb.css.selector.strip",new RegExp(n,"g"));return(e.selectorText||e).replace(i,"")},elementForSuffix:function(i,e){var a=this,t=1<arguments.length&&void 0!==e?e:"";if(!t||_.isEmpty(t))return i._tve_selector="",i;function o(e){if(!e.trim())return i._tve_selector="",[i,""];var t=e;if(e.includes("::placeholder"))return[c(),""];if((e=a.getRealSelector(e,[])).length<2)return i._tve_selector=t,[i,t];var r=i;if(".#:[".includes(e.charAt(0))){var n=e.split(" ");r=r.filter(n.shift()),e=n.join(" ")}return(r=e?r.find(e):r)._tve_selector=t,[r,t]}if(Array.isArray(t)){var s=i.constructor(),l=!1;return t.forEach(function(e){var t=_slicedToArray(o(e),2),r=t[0],n=t[1];r.length&&!1===l&&(l=n),s=s.add(r)}),s._tve_selector=l,s}return o(t)[0]},deepGet:function(e,t,r){var n=2<arguments.length&&void 0!==r?r:null;if(!e)return n;_.isString(t)&&(t=t.split("."));for(var i,a=e;t.length;){if(void 0===a[i=t.shift()])return n;a=a[i]}return a},filterObjectPropertiesByKey:function(e,t){var r=0<arguments.length&&void 0!==e?e:{},n=1<arguments.length&&void 0!==t?t:[];return Object.keys(r).filter(function(e){return n.includes(e)}).reduce(function(e,t){return e[t]=r[t],e},{})},validateConfigElement:function(e,t){var r=0<arguments.length&&void 0!==e?e:{},n=1<arguments.length&&void 0!==t?t:{};return 0===Object.keys(n).map(function(e){return[e,(0,n[e])(r[e])]}).reduce(function(e,t){return!1===t[1]&&e.push(new Error("".concat(t[0]," is invalid."))),e},[]).length},getStyleBySelector:function(e,t,r){var n=2<arguments.length&&void 0!==r&&r;if(e&&e.cssRules)for(var i=e.cssRules.length-1;0<=i;i--){var a=e.cssRules[i];if(a.selectorText===t||n&&a.selectorText.includes(t))return a.style}return null},ensurePromise:function(e){return e&&"function"==typeof e.then?e:new Promise(function(e){e()})},getElementForDataSelector:function(e){function t(e){if(e.is(r))return e;var t=e.find(r);return t.length||(t=e.parent().find(r)),t}var r=e.attr("data-selector");return r&&(TVE.main.EditMode.in_edit()?!(e=t(TVE.main.EditMode.element())).length&&TVE.main.EditMode.isStacked()&&(e=t(TVE.main.EditMode.getOuterMostElement())):e=TVE.inner_$(r)),e},initControls:function(e){var n={};return e.find(".tve-control").each(function(e,t){var r=t.dataset.key||t.dataset.view;n[r]=new TVE.Views.Controls[t.dataset.view]({el:t,model:{config:t.dataset}})}),n}}},"shortcode-manager.js":function(e,t,r){t.exports=function(t,e){2<arguments.length&&void 0!==arguments[2]&&arguments[2]&&!t.is(".thrive-shortcode-config")&&(t=t.find(".thrive-shortcode-config"));var r="__CONFIG_"+e+"__";return{update:function(e,t){var r=this.get();r[t]=e,this.save(r)},delete_prop:function(e){this.remove(e)},remove:function(e){var t=this.get();delete t[e],this.save(t)},save:function(e){t.html(this.getHTML(e))},get:function(){if(!t.length)return{};var e=new RegExp(r,"g");return JSON.parse((t.html().trim()||"{}").replace(/_tveutf8_/g,"\\u").replace(e,"").replace(/\\\'/g,"'").replace(/_tve_quote_/g,'\\"').replace(/\n/g,"\\n").replace(/\t/g,"\\t"))},getHTML:function(e){return r+JSON.stringify(e).replace(/\\"/g,"_tve_quote_")+r}}}}}}}}}})("workspace/editor/js/editor/src/editor");